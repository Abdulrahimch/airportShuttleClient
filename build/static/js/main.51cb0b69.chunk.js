(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{269:function(e,t,r){},396:function(e,t,r){},397:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(29),i=r.n(a),c=(r(269),r(55)),o=r(35),s=r(5),l=r(70),d=Object(l.a)((function(e){return{root:{width:"100%",marginTop:"3em",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),u=r(238),m=r(459),h=r(449),p=Object(l.a)((function(e){return{columnHeader:{backgroundColor:"#FFFFFF",color:"#000000",fontWeight:800,fontSize:16,width:"100%"},root:{backgroundColor:"primary",color:"primary",height:700,width:"100%"},row:{"&.reservation":{backgroundColor:"#CD5C5C"},"&.payment":{backgroundColor:"#7FFFD4"},"&.client":{},"&.total":{backgroundColor:"#2F4F4F"}}}})),b=r(175),j=r(3),f=r(1);function x(e){var t=e.rows,r=e.columns,n=p(),a=n.root,i=n.row,c=n.columnHeader;return Object(f.jsx)(m.a,{className:a,children:Object(f.jsx)(b.a,{components:{Toolbar:b.b},rows:t,columns:r,pageSize:10,rowHeight:100,disableSelectionOnClick:!0,disableColumnMenu:!0,disableDensitySelector:!0,getRowClassName:function(e){return"".concat(Object(j.a)(i,e.row.status))},classes:{columnHeader:c}})})}var g=r(96),O=Object(l.a)((function(e){return{circularProgress:{color:e.palette.common.white},button:{textTransform:"uppercase",borderRadius:e.shape.borderRadius,fontSize:12,fontWeight:600,padding:e.spacing(1),"&.submit":{backgroundColor:e.palette.primary.main,margin:e.spacing(6,2,2),width:160,height:56},"&.edit":{backgroundColor:"#006400",width:75,height:40},"&.dialogSubmit":{backgroundColor:e.palette.primary.main,width:75,height:40},"&.delete":{backgroundColor:"#8B0000",width:75,height:40},"&.cancel":{backgroundColor:"#8B0000",width:75,height:40},"&.processed":{backgroundColor:"#006400",width:100,height:10,marginTop:5},"&.unprocessed":{backgroundColor:"#8B0000",width:100,height:10,marginTop:5},"&.showResDetails":{backgroundColor:"#FF8C00",width:100,height:10,marginBottom:5},"&.addPayment":{backgroundColor:"#006400",width:100,height:40},"&.allPayments":{backgroundColor:"#006400",width:100,height:40},"&.details":{backgroundColor:"#006400",width:100,height:40},"&.driverDetails":{backgroundColor:"#0000FF",width:100,height:40},"&.confirm":{backgroundColor:"#483D8B",width:100,height:10},"&.confirmed":{backgroundColor:"#A9A9A9",width:100,height:10},"&.yes":{backgroundColor:"#006400",width:75,height:40,marginRight:"1em"},"&.no":{backgroundColor:"#8B0000",width:75,height:40},"&.searchButton":{backgroundColor:"#006400",width:75,height:40,marginTop:"0.5em"}}}}));var y=function(e){var t=e.btnText,r=e.style,n=e.onClick,a=(e.isSubmitBtn,e.disabled),i=O().button,c=Object(j.a)(i,r);return Object(f.jsx)(g.a,{disabled:a,className:c,onClick:n,type:"submit",children:t})},v={title:"add reservation",form:{type:"type",from:"from",to:"to",pax:"pax",property:"property",fullName:"full name",passenger:"passenger",driverNote:"driver note",flightNo:"flight no",selectedDate:"date and time of arrivale"}},w={title:"rezervasyon ekle",form:{type:"tip",from:"nerden",to:"nereye",pax:"pax",property:"emlak",fullName:"ad soyad",passenger:"yolcu",driverNote:"s\xfcr\xfcc\xfc notu",flightNo:"u\xe7u\u015f no",selectedDate:"vari\u015f tarihi ve saat\u0131"}},N=[{label:"new reservation",to:"/new-reservation"},{label:"reservations",to:"/reservation"},{label:"payments",to:"/payment"}],C=[{label:"yeni rezervasyon",to:"/new-reservation"},{label:"rezervasyonlar",to:"/reservation"},{label:"finans",to:"/payment"}],T={title:"add payment",form:{type:"type",paid:"paid",currency:"currency",note:"note",exchangeRate:"exchange rate",paidInTL:"paid in TL"}},k={title:"\xf6deme ekle ",form:{type:"tip",paid:"\xf6denmi\u015f",currency:"para birimi",note:"not",exchangeRate:"D\xf6viz kuru",paidInTL:"TL olarak \xf6dendi"}},S=[{label:"Confirmed",value:"1"},{label:"Pending Confirmation",value:"2"}],P=[{label:"Onaylanm\u0131\u015f",value:"1"},{label:"Onay Bekleniyor ",value:"2"}],A={eng:{firstName:"FirstName",lastName:"lastName",email:"Email",propertyName:"Property Name",businessType:"Business Type",address:"Address",istCostTitle:"ist airport cost in TL",sawCostTitle:"Saw airport cost in TL"},turkish:{firstName:"Isim",lastName:"Soyisim",email:"Email",propertyName:"Emlak Ad\u0131",businessType:"\u0130\u015fyeri Tipi",address:"Address",istCostTitle:"ist airport maliyeti TL olarak",sawCostTitle:"SAW airport maliyeti TL olarak"}},I=r(12),D=r.n(I),M=r(23),F=r(28),R=r.n(F),E=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/reservation/",t).then((function(e){return e.data})).catch((function(e){return{error:{message:"error! please try again later"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/reservation/").then((function(e){return e.data})).catch((function(){return{error:{message:"error! please try again later"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete("/reservation/".concat(t)).then((function(e){return e.data})).catch((function(){return{error:{message:"error! please try again later"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(M.a)(D.a.mark((function e(t,r,n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/reservation/stat/".concat(t),{params:{from:r,to:n}}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),U=r(461),W=r(95),q=r(115),H=r.n(q),V=Object(n.createContext)({updateSnackBarMessage:function(){return null}}),_=function(e){var t=e.children,r=Object(n.useState)(null),a=Object(s.a)(r,2),i=a[0],c=a[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),d=l[0],u=l[1],m=Object(n.useCallback)((function(e){c(e),u(!0)}),[]),h=Object(n.useCallback)((function(){u(!1)}),[]),p=Object(n.useCallback)((function(e,t){"clickaway"!==t&&u(!1)}),[]);return Object(f.jsxs)(V.Provider,{value:{updateSnackBarMessage:m},children:[t,Object(f.jsx)(U.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:d,autoHideDuration:6e3,onClose:p,message:i,action:Object(f.jsx)(W.a,{size:"small","aria-label":"close",color:"inherit",onClick:h,children:Object(f.jsx)(H.a,{fontSize:"small"})})})]})};function K(){return Object(n.useContext)(V)}var J=r(460),G=Object(l.a)((function(e){return{dialog:{"&.updateReservation":{maxHeight:"1000px"},"&.addPayment":{maxHeight:"1000px"}}}})),Y=function(e){var t=e.open,r=e.onClose,n=e.style,a=e.cssStyle,i=e.children,c=e.isFullScreen,o=G().dialog,s=Object(j.a)(o,n);return Object(f.jsx)(J.a,{open:t,fullScreen:c,onClose:r,className:s,style:a,children:i})},$=Object(n.createContext)({language:"eng",updateLanguage:function(){return null}}),Q=function(e){var t=e.children,r=Object(n.useState)("tr"),a=Object(s.a)(r,2),i=a[0],c=a[1],o=Object(n.useCallback)((function(e){c(e)}),[]);return Object(f.jsx)($.Provider,{value:{language:i,updateLanguage:o},children:t})};function X(){return Object(n.useContext)($)}var Z=r(106),ee=r(448),te=r(450),re=r(447),ne=r(462),ae=r(80),ie=Object(l.a)((function(e){return{root:{padding:e.spacing(9),monHieght:"50vn"},avatar:{height:80,width:80},title:{fontSize:25,fontWeight:800,color:e.palette.common.black}}})),ce=function(e){var t=e.driver,r=ie(),n=r.root,a=r.avatar,i=r.title;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(re.a,{container:!0,direction:"column",className:n,justifyContent:"center",alignItems:"center",children:[Object(f.jsx)(re.a,{item:!0,children:Object(f.jsx)(ne.a,{className:a,src:t.img})}),Object(f.jsx)(ae.a,{className:i,children:"".concat(t.name)}),Object(f.jsx)(ae.a,{variant:"body2",children:"Cep: ".concat(t.phoneNumber)}),Object(f.jsx)(ae.a,{variant:"body2",children:"Car No: ".concat(t.carNumber)})]})})},oe={name:"",img:"",carNumber:"",phoneNumber:0,email:""};var se=function(){var e=d().root,t=Object(o.f)(),r=X().language,a=K().updateSnackBarMessage,i=Object(n.useState)([]),c=Object(s.a)(i,2),l=c[0],p=c[1],b=Object(n.useState)([]),j=Object(s.a)(b,2),g=j[0],O=j[1],v=Object(n.useState)(!1),w=Object(s.a)(v,2),N=w[0],C=w[1],T=Object(n.useState)(!1),k=Object(s.a)(T,2),A=k[0],I=k[1],D=Object(n.useState)(oe),M=Object(s.a)(D,2),F=M[0],R=M[1],E=Object(n.useState)("1"),L=Object(s.a)(E,2),U=L[0],W=L[1],q=Object(n.useState)({type:0,from:0,to:0,property:"",pax:5,flightNo:"",driverNote:"",selectedDate:new Date,timezone:0,passengers:[]}),H=Object(s.a)(q,2),V=(H[0],H[1]),_=function(e){var t=e.row._id;B(t).then((function(t){t.error?a(t.error.message):t.success?(a("reservation deleted!"),p(l.filter((function(t){return t.id!==e.id})))):a("An unexpected error occurred. Please try again !")}))},J=function(e){V(e.row),C(!0)},G=function(e){R(e.row.driver),I(!0)},$="tr"===r?function(e,t,r){return[{field:"date",headerName:"Traih va Saat",width:200},{field:"flightNo",headerName:"U\xe7u\u015f No ",width:150},{field:"from",headerName:"Nerden",width:150},{field:"to",headerName:"Nereye",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/Emlak",width:150},{field:"cost",headerName:"\xdccret",width:150},{field:"S\xfcr\xfcc\xfc",width:150,renderCell:function(e){return Object(f.jsx)(y,{disabled:!e.row.confirmed,style:"driverDetails",btnText:"Detay",onClick:function(){return r(e)}})}},{field:"D\xfczenle",width:150,renderCell:function(t){return Object(f.jsx)(y,{disabled:t.row.confirmed,style:"edit",btnText:"D\xfczenle",onClick:function(){return e(t)}})}},{field:"Iptal",width:150,renderCell:function(e){return Object(f.jsx)(y,{disabled:e.row.confirmed,style:"delete",btnText:"Iptal",onClick:function(){return t(e)}})}}]}(J,_,G):function(e,t,r){return[{field:"date",headerName:"Date and Time",width:300},{field:"flightNo",headerName:"Flight No",width:150},{field:"from",headerName:"From",width:150},{field:"to",headerName:"To",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/property",width:150},{field:"cost",headerName:"Cost",width:150},{field:"Driver",width:150,renderCell:function(e){return Object(f.jsx)(y,{disabled:!e.row.confirmed,style:"driverDetails",btnText:"Details",onClick:function(){return r(e)}})}},{field:"Edit",width:150,renderCell:function(t){return Object(f.jsx)(y,{disabled:t.row.confirmed,style:"edit",btnText:"edit",onClick:function(){return e(t)}})}},{field:"Cancel",width:150,renderCell:function(e){return Object(f.jsx)(y,{disabled:e.row.confirmed,style:"delete",btnText:"Cancel",onClick:function(){return t(e)}})}}]}(J,_,G),Q="tr"===r?P:S;return Object(n.useEffect)((function(){return z().then((function(e){e.error?console.log(e.error):e.success?(e.success.reservations.confirmedReservations.map((function(e,t){e.id=t+1,e.status="reservation";var r=new Date(e.selectedDate);e.date=Object(u.a)(r,"dd-MM-yyyy kk:mm")})),p(e.success.reservations.confirmedReservations),e.success.reservations.unConfirmedReservations.map((function(e,t){e.id=t+1;var r=new Date(e.selectedDate);e.date=Object(u.a)(r,"dd-MM-yyyy kk:mm")})),O(e.success.reservations.unConfirmedReservations)):console.log("External error")})),function(){p([]),O([])}}),[t,N]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{sx:{width:"100%"},className:e,children:[Object(f.jsxs)(Z.a,{value:U,children:[Object(f.jsx)(m.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(f.jsx)(ee.a,{onChange:function(e,t){W(t)},"aria-label":"lab API tabs example",children:Q.map((function(e,t){var r=e.label,n=e.value;return Object(f.jsx)(h.a,{label:r,value:n},t)}))})}),Object(f.jsx)(te.a,{value:"1",style:{width:"100%"},children:Object(f.jsx)(x,{rows:l,columns:$})}),Object(f.jsx)(te.a,{value:"2",style:{width:"100%"},children:Object(f.jsx)(x,{rows:g,columns:$})})]}),Object(f.jsx)(Y,{open:A,onClose:function(){I(!1)},style:"updateReservation",children:Object(f.jsx)(ce,{driver:F})})]})})},le=r(16),de=r(157),ue=r(22),me=Object(l.a)((function(e){return{label:{fontSize:12,fontWeight:800,color:e.palette.common.black,textTransform:"uppercase"},select:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,padding:e.spacing(2),marginTop:"0.5em",width:150,transition:e.transitions.create(["border-color","box-shadow"])},inputs:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,height:"100%",padding:e.spacing(2),marginBottom:"2em",transition:e.transitions.create(["border-color","box-shadow"]),"&:cfous":{boxShadow:"".concat(Object(ue.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:e.palette.primary.main},marginRight:"1em"},inputLabel:{fontSize:12,fontWeight:800,textTransform:"uppercase",color:e.palette.common.black,padding:e.spacing(1)},itemContainer:{margin:"1em 0 1em 0"}}})),he=r(94),pe=r(34),be=r(451),je=function(e){var t=e.from,r=e.to,n=e.setFrom,a=e.setTo,i=e.invokeUseEffect,c=me(),o=c.itemContainer,s=c.inputLabel,l=c.inputs;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(re.a,{item:!0,container:!0,className:o,spacing:6,justifyContent:"center",children:Object(f.jsxs)(pe.a,{utils:he.a,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:s,children:"From"}),Object(f.jsx)(pe.a,{utils:he.a,children:Object(f.jsx)(be.a,{InputProps:{classes:{input:l},disableUnderline:!0},value:t,onChange:function(e){return n(e)}})})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:s,children:"to"}),Object(f.jsx)(pe.a,{utils:he.a,children:Object(f.jsx)(be.a,{InputProps:{classes:{input:l},disableUnderline:!0},value:r,onChange:function(e){return a(e)}})}),Object(f.jsx)(y,{btnText:"Search",style:"searchButton",onClick:function(){i()}})]})]})})})},fe=function(){var e=Object(M.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include"},e.next=3,fetch("/auth/user",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=fe,ge=function(){var e=Object(M.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",credentials:"include"},e.next=3,fetch("/auth/logout",t).then((function(e){return e.json()})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=ge,ye=Object(n.createContext)({loggedInUser:void 0,updateLoginContext:function(){return null},logout:function(){return null}}),ve=function(e){var t=e.children,r=Object(n.useState)(),a=Object(s.a)(r,2),i=a[0],c=a[1],l=Object(o.f)(),d=Object(n.useCallback)((function(e){c(e.user),"client"===e.user.role?l.push("/reservation"):l.push("/agency-home")}),[l]),u=Object(n.useCallback)(Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe().then((function(){l.push("/login"),c(null)})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),[l]);return Object(n.useEffect)((function(){var e=function(){var e=Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe().then((function(e){e.success?(d(e.success),"client"===e.success.user.role?l.push("/reservation"):l.push("/agency-home")):(c(null),l.push("/login"))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d,l]),Object(f.jsx)(ye.Provider,{value:{loggedInUser:i,updateLoginContext:d,logout:u},children:t})};function we(){return Object(n.useContext)(ye)}var Ne=function(e){e.clientId;var t=e.debt,r=X().language,a=we().loggedInUser,i="eng"===r?[{field:"date",headerName:"Date and Time",width:300},{field:"flightNo",headerName:"Flight No",width:150},{field:"from",headerName:"From",width:150},{field:"to",headerName:"To",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/property",width:200},{field:"cost",headerName:"Cost",width:225},{field:"paid",headerName:"Paid",width:150},{field:"currency",headerName:"Currency",width:150},{field:"exchangeRate",headerName:"Exchange Rate",width:150},{field:"totalReservationsCost",headerName:"Total Cost",width:150},{field:"paymentTotal",headerName:"Paid in TL",width:150},{field:"debt",headerName:"Remaining Amount In TL",width:150}]:[{field:"date",headerName:"Traih va Saat",width:300},{field:"flightNo",headerName:"U\xe7u\u015f No ",width:150},{field:"from",headerName:"Nerden",width:150},{field:"to",headerName:"Nereye",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/Emlak",width:200},{field:"cost",headerName:"Ucret",width:225},{field:"paid",headerName:"\xf6deme",width:150},{field:"currency",headerName:"Para Birimi ",width:150},{field:"exchangeRate",headerName:"D\xf6viz Kuru",width:150},{field:"totalReservationsCost",headerName:"Toplam Tutar ",width:150},{field:"paymentTotal",headerName:"TL Olarak \xf6dendi",width:150},{field:"debt",headerName:"Bor\xe7",width:150}],c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],d=o[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),b=p[0],j=p[1],g=Object(n.useState)(new Date),O=Object(s.a)(g,2),y=O[0],v=O[1],w=new Date,N=Object(n.useState)(new Date(w.setHours(w.getHours()+24))),C=Object(s.a)(N,2),T=C[0],k=C[1],S=Object(n.useRef)(0),P=Object(n.useRef)(0),A=Object(n.useRef)([{id:10000200,totalReservationsCost:0,paymentTotal:0,debt:t,status:"total"}]);return Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.id;return L(e,y,T).then((function(e){var t=0;e.error?console.log(e.error):e.success?(e.success.reservations.map((function(e){e.id=t+1,e.status="reservation";var r=new Date(e.selectedDate);e.date=Object(u.a)(r,"dd-MM-yyyy kk:mm"),S.current+=e.cost?e.cost:0,t++})),e.success.payments.map((function(e){var r;e.id=t+1,e.property=null===(r=e.client)||void 0===r?void 0:r.property,e.status="payment";var n=new Date(e.createdAt?e.createdAt:new Date);e.date=Object(u.a)(n,"dd-MM-yyyy kk:mm"),P.current+=e.paidInTL,t++})),A.current[0].totalReservationsCost=S.current,A.current[0].paymentTotal=P.current,A.current[0].debt=S.current-P.current,d([].concat(Object(le.a)(e.success.reservations),Object(le.a)(e.success.payments),Object(le.a)(A.current)).sort((function(e,t){return parseFloat(e.date)-parseFloat(t.date)})))):console.log("External Error, please try again Later!")})),function(){S.current=0,P.current=0,d([])}}),[b]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{display:"flex",flexDirection:"column",children:[Object(f.jsx)(je,{from:y,to:T,setFrom:v,setTo:k,invokeUseEffect:function(){j(!b)}}),Object(f.jsx)(x,{rows:l,columns:i})]})})},Ce=r(116),Te=Object(l.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",marginTop:"2em"},title:{textTransform:"uppercase",fontSize:20,fontWeight:800}}})),ke=r(44),Se=r(18),Pe=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),backgroundColor:"#E0E0E0","& .MuiFormControl-root":{marginTop:e.spacing(1)}},inputs:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",borderColor:"blue",fontSize:16,height:"100%",padding:e.spacing(2),marginTop:0,transition:e.transitions.create(["border-color","box-shadow"]),"&:cfous":{boxShadow:"".concat(Object(ue.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:e.palette.primary.main}},inputLabel:{fontSize:12,fontWeight:800,textTransform:"uppercase",color:e.palette.common.black},fieldInputLabel:{fontSize:12,fontWeight:800,textTransform:"uppercase",color:e.palette.common.black,marginTop:"0.5em"},select:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",borderColor:"blue",fontSize:16,padding:e.spacing(2),marginTop:"0.5em",width:200,transition:e.transitions.create(["border-color","box-shadow"])},circularProgress:{color:e.palette.common.white},submit:{textTransform:"uppercase",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.primary.main,margin:e.spacing(6,2,2),padding:e.spacing(1),width:160,height:56,fontSize:12,fontWeight:600},itemContainer:{margin:"1em 0 1em 0"},menuItem:{width:"100px"}}})),Ae=r(463),Ie=r(117),De=r(72),Me=r(406),Fe=r(179),Re=[{value:"IST airport",name:"Istanbul Airport"},{value:"SAW airport",name:"Sabiha Airport"}],Ee=[{value:"SultanAhmet",name:"SultanAhmet"},{value:"Sirkeci",name:"Sirkeci"},{value:"Taksim",name:"Taksim"},{value:"Fatih",name:"Fatih"},{value:"Laleli",name:"Laleli"}];var ze=function(e){var t=e.form,r=e.handleSubmit,n=e.initValues,a=Pe(),i=t.type,c=t.from,o=t.to,s=t.pax,l=t.property,d=t.driverNote,u=t.flightNo,h=t.selectedDate;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(m.a,{children:Object(f.jsx)(ke.d,{initialValues:{type:n.type,from:n.from,to:n.to,property:n.property,pax:n.pax,flightNo:n.flightNo,driverNote:n.driverNote,selectedDate:n.selectedDate,timezone:n.timezone,passengers:n.passengers},validationSchema:Se.c().shape({type:Se.d().required("This Field is required"),from:Se.d().required("This Field is required"),to:Se.d().required("This Field is required"),property:Se.d().required("This Field is required"),flightNo:Se.d().required("This Field is required"),driverNote:Se.d(),selectedDate:Se.a().required("This Field is required"),pax:Se.b().min(1).max(10).default(1)}),onSubmit:function(e){r(e)},children:function(e){var t=e.handleSubmit,r=e.handleChange,n=e.values,p=(e.touched,e.errors),b=(e.isSubmitting,e.setFieldValue);return Object(f.jsx)("form",{onSubmit:t,className:a.form,noValidate:!0,children:Object(f.jsxs)(re.a,{container:!0,direction:"column",alignItems:"center",children:[Object(f.jsx)(re.a,{item:!0,children:Object(f.jsxs)(re.a,{item:!0,container:!0,className:a.itemContainer,spacing:4,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{id:"type",className:a.inputLabel,children:i}),Object(f.jsxs)(Ie.a,{id:"type",name:"type",autoWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},value:n.type,onChange:r,classes:{select:a.select},children:[Object(f.jsx)(De.a,{value:1,children:"Airport to Resort"}),Object(f.jsx)(De.a,{value:2,children:"Resort to Airport"})]}),Object(f.jsx)(Me.a,{error:Boolean(p.type),children:p.type})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:a.inputLabel,children:s}),Object(f.jsx)(Ie.a,{id:"pax",name:"pax",autoWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},value:n.pax,onChange:r,classes:{select:a.select},children:Array(10).fill(0).map((function(e,t){return Object(f.jsx)(De.a,{className:a.menuItem,value:t+1,children:t+1})}))}),Object(f.jsx)(Me.a,{error:Boolean(p.pax),children:p.pax})]})]})}),Object(f.jsx)(re.a,{item:!0,children:Object(f.jsxs)(re.a,{item:!0,container:!0,className:a.itemContainer,spacing:4,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:a.inputLabel,children:c}),Object(f.jsx)(Ie.a,{id:"from",name:"from",autoWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},value:n.from,onChange:r,classes:{select:a.select},children:1===n.type?Re.map((function(e){return Object(f.jsx)(De.a,{value:e.value,children:e.name})})):Ee.map((function(e){return Object(f.jsx)(De.a,{value:e.value,children:e.name})}))}),Object(f.jsx)(Me.a,{error:Boolean(p.from),children:p.from})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:a.inputLabel,children:o}),Object(f.jsx)(Ie.a,{id:"to",name:"to",autoWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},value:n.to,onChange:r,classes:{select:a.select},children:2===n.type?Re.map((function(e){return Object(f.jsx)(De.a,{value:e.value,children:e.name})})):Ee.map((function(e){return Object(f.jsx)(De.a,{value:e.value,children:e.name})}))}),Object(f.jsx)(Me.a,{error:Boolean(p.to),children:p.to})]})]})}),Object(f.jsx)(re.a,{item:!0,children:Object(f.jsxs)(re.a,{item:!0,container:!0,className:a.itemContainer,spacing:6,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:a.inputLabel,children:l}),Object(f.jsx)(Fe.a,{id:"property",name:"property",error:Boolean(p.property),helperText:p.property,InputProps:{classes:{input:a.inputs},disableUnderline:!0},value:n.property,onChange:r})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:a.inputLabel,children:u}),Object(f.jsx)(Fe.a,{id:"flightNo",name:"flightNo",InputProps:{classes:{input:a.inputs},disableUnderline:!0},value:n.flightNo,onChange:r})]})]})}),Object(f.jsx)(re.a,{item:!0,children:Object(f.jsx)(re.a,{item:!0,container:!0,className:a.itemContainer,spacing:6,children:Object(f.jsx)(pe.a,{utils:he.a,children:Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:a.inputLabel,children:h}),Object(f.jsx)(pe.a,{utils:he.a,children:Object(f.jsx)(Ae.a,{InputProps:{classes:{input:a.inputs},disableUnderline:!0},value:n.selectedDate,onChange:function(e){return b("selectedDate",e)}})})]})})})}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:a.inputLabel,children:d}),Object(f.jsx)(Fe.a,{id:"driverNote",name:"driverNote",multiline:!0,rows:4,InputProps:{classes:{input:a.inputs},disableUnderline:!0},value:n.driverNote,onChange:r})]}),Object(f.jsx)(re.a,{item:!0,lg:6,children:Object(f.jsx)(re.a,{item:!0,container:!0,className:a.itemContainer,spacing:4,children:Object(f.jsx)(ke.b,{name:"passengers",children:function(e){var t=e.form.values.pax,r=new Array(t).fill("");return Object(f.jsx)(ke.c,{children:r.map((function(e,t){return Object(f.jsxs)(m.a,{children:[Object(f.jsxs)(de.a,{className:a.fieldInputLabel,children:["passenger ",t+1," full name"]}),Object(f.jsx)(ke.a,{id:"passengers[".concat(t,"]"),name:"passengers[".concat(t,"]"),className:a.select,style:{position:"relative"}})]})}))})}})})}),Object(f.jsx)(re.a,{item:!0,children:Object(f.jsx)(y,{style:"submit",btnText:"submit"})})]})})}})})})},Be=w,Le=v;var Ue=function(){var e=Te(),t=Object(n.useState)({title:"",form:Le.form}),r=Object(s.a)(t,2),a=r[0],i=r[1],c=Object(o.f)(),l=K().updateSnackBarMessage,d=X().language,u=Object(n.useRef)({type:0,from:0,to:0,property:"",pax:0,flightNo:"",driverNote:"",selectedDate:new Date,timezone:0,passengers:[]});return Object(n.useEffect)((function(){i("tr"===d?Be:Le)}),[c,d]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(re.a,{container:!0,component:Ce.a,className:e.root,alignItems:"center",children:Object(f.jsx)(re.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(f.jsx)(m.a,{display:"flex",flexDirection:"column",minHeight:"100vh",children:Object(f.jsxs)(m.a,{children:[Object(f.jsx)(ae.a,{variant:"h2",color:"primary",className:e.title,children:a.title}),Object(f.jsx)(ze,{form:a.form,handleSubmit:function(e){E(e).then((function(e){e.error?l(e.error.message):e.success?l("reservation has been created successfully"):l("An unexpected error occurred. Please try again !")}))},initValues:u.current})]})})})})})},We=Object(l.a)((function(e){return{root:{padding:e.spacing(5)},title:{textTransform:"uppercase",fontWeight:800,fontSize:24,color:"primary",marginBottom:"2em",textAlign:"center",paddingTop:e.spacing(3)}}})),qe=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),"& .MuiFormControl-root":{marginTop:e.spacing(1)}},inputs:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,height:"100%",padding:e.spacing(2),marginBottom:"2em",transition:e.transitions.create(["border-color","box-shadow"]),"&:cfous":{boxShadow:"".concat(Object(ue.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:e.palette.primary.main}},label:{fontSize:12,fontWeight:800,color:e.palette.common.black,textTransform:"uppercase"},select:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,padding:e.spacing(2),marginTop:"0.5em",width:200,transition:e.transitions.create(["border-color","box-shadow"])},typography:{fontSize:20,fontWeight:800,textTransform:"uppercase",margin:"1em 0 1em 0"}}}));var He=function(e){var t=e.handleSubmit,r=e.values,n=qe(),a="tr"===X().language?A.turkish:A.eng,i=a.firstName,c=a.lastName,o=a.email,s=a.propertyName,l=a.businessType,d=a.address,u=a.istCostTitle,m=a.sawCostTitle;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ke.d,{initialValues:{email:r.email,firstName:r.firstName,lastName:r.lastName,businessType:r.businessType,address:r.address,role:"client",propertyName:r.propertyName,IstAirportMaxFourPaxCost:r.IstAirportMaxFourPaxCost,IstAirportMaxSixPaxCost:r.IstAirportMaxSixPaxCost,IstAirportMaxTenPaxCost:r.IstAirportMaxTenPaxCost,SawAirportMaxFourPaxCost:r.SawAirportMaxFourPaxCost,SawAirportMaxSixPaxCost:r.SawAirportMaxSixPaxCost,SawAirportMaxTenPaxCost:r.SawAirportMaxTenPaxCost},validationSchema:Se.c().shape({email:Se.d().email("Invalid Email Address").required("Please Enter Email Address"),firstName:Se.d().required("This field can not be blank"),lastName:Se.d().required("This field can not be blank"),propertyName:Se.d().required("This field can not be blank"),address:Se.d().required("This field can not be blank"),role:Se.d(),businessType:Se.d().required("This field can not be blank"),IstAirportMaxFourPaxCost:Se.b().min(0).required("Please enter the cost for (1 - 4) Pax"),IstAirportMaxSixPaxCost:Se.b().min(0).required("Please enter the cost for (4 - 6) Pax"),IstAirportMaxTenPaxCost:Se.b().min(0).required("Please enter the cost for (6 - 10) Pax"),SawAirportMaxFourPaxCost:Se.b().min(0).required("Please enter the cost for (1 - 4) Pax"),SawAirportMaxSixPaxCost:Se.b().min(0).required("Please enter the cost for (4 - 6) Pax"),SawAirportMaxTenPaxCost:Se.b().min(0).required("Please enter the cost for (6 - 10) Pax")}),onSubmit:function(e){t(e)},children:function(e){var t=e.handleSubmit,r=e.handleChange,a=e.values,h=(e.touched,e.errors);e.isSubmitting;return Object(f.jsx)(ke.c,{onSubmit:t,className:n.form,noValidate:!0,children:Object(f.jsxs)(re.a,{container:!0,direction:"column",spacing:2,children:[Object(f.jsxs)(re.a,{item:!0,container:!0,justify:"space-evenly",children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:i}),Object(f.jsx)(Fe.a,{id:"firstName",name:"firstName",value:a.firstName,onChange:r,error:Boolean(h.firstName),helperText:h.firstName,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:c}),Object(f.jsx)(Fe.a,{id:"lastName",name:"lastName",value:a.lastName,onChange:r,error:Boolean(h.lastName),helperText:h.lastName,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]})]}),Object(f.jsxs)(re.a,{item:!0,container:!0,justify:"space-evenly",children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:o}),Object(f.jsx)(Fe.a,{id:"email",name:"email",value:a.email,onChange:r,error:Boolean(h.email),helperText:h.email,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:l}),Object(f.jsxs)(Ie.a,{id:"businessType",name:"businessType",autoWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},value:a.businessType,onChange:r,classes:{select:n.select},children:[Object(f.jsx)(De.a,{value:"hotel",children:"Hotel"}),Object(f.jsx)(De.a,{value:"restaurant",children:"Restaurant"}),Object(f.jsx)(De.a,{value:"other",children:"Other"})]})]})]}),Object(f.jsxs)(re.a,{item:!0,container:!0,justify:"space-evenly",children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:s}),Object(f.jsx)(Fe.a,{id:"propertyName",name:"propertyName",value:a.propertyName,onChange:r,error:Boolean(h.propertyName),fullWidth:!0,helperText:h.propertyName,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:d}),Object(f.jsx)(Fe.a,{id:"address",name:"address",value:a.address,onChange:r,error:Boolean(h.address),fullWidth:!0,helperText:h.address,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]})]}),Object(f.jsx)(ae.a,{align:"center",className:n.typography,children:u}),Object(f.jsxs)(re.a,{item:!0,container:!0,justify:"space-evenly",children:[Object(f.jsxs)(re.a,{item:!0,xs:2,sm:2,md:2,lg:2,children:[Object(f.jsx)(de.a,{className:n.label,children:"(1-4) pax"}),Object(f.jsx)(Fe.a,{id:"IstAirportMaxFourPaxCost",name:"IstAirportMaxFourPaxCost",value:a.IstAirportMaxFourPaxCost,onChange:r,error:Boolean(h.IstAirportMaxFourPaxCost),helperText:h.IstAirportMaxFourPaxCost,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,xs:2,sm:2,md:2,lg:2,children:[Object(f.jsx)(de.a,{className:n.label,children:"(4-6) pax"}),Object(f.jsx)(Fe.a,{id:"IstAirportMaxSixPaxCost",name:"IstAirportMaxSixPaxCost",value:a.IstAirportMaxSixPaxCost,onChange:r,error:Boolean(h.IstAirportMaxSixPaxCost),helperText:h.IstAirportMaxSixPaxCost,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,xs:2,sm:2,md:2,lg:2,children:[Object(f.jsx)(de.a,{className:n.label,children:"(6-10) pax"}),Object(f.jsx)(Fe.a,{id:"IstAirportMaxTenPaxCost",name:"IstAirportMaxTenPaxCost",value:a.IstAirportMaxTenPaxCost,onChange:r,error:Boolean(h.IstAirportMaxTenPaxCost),helperText:h.IstAirportMaxTenPaxCost,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]})]}),Object(f.jsx)(ae.a,{align:"center",className:n.typography,children:m}),Object(f.jsxs)(re.a,{item:!0,container:!0,justify:"space-evenly",children:[Object(f.jsxs)(re.a,{item:!0,xs:2,sm:2,md:2,lg:2,children:[Object(f.jsx)(de.a,{className:n.label,children:"(1-4) pax"}),Object(f.jsx)(Fe.a,{id:"SawAirportMaxFourPaxCost",name:"SawAirportMaxFourPaxCost",value:a.SawAirportMaxFourPaxCost,onChange:r,error:Boolean(h.SawAirportMaxFourPaxCost),helperText:h.SawAirportMaxFourPaxCost,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,xs:2,sm:2,md:2,lg:2,children:[Object(f.jsx)(de.a,{className:n.label,children:"(4-6) pax"}),Object(f.jsx)(Fe.a,{id:"SawAirportMaxSixPaxCost",name:"SawAirportMaxSixPaxCost",value:a.SawAirportMaxSixPaxCost,onChange:r,error:Boolean(h.SawAirportMaxSixPaxCost),helperText:h.SawAirportMaxSixPaxCost,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,xs:2,sm:2,md:2,lg:2,children:[Object(f.jsx)(de.a,{className:n.label,children:"(6-10) pax"}),Object(f.jsx)(Fe.a,{id:"SawAirportMaxTenPaxCost",name:"SawAirportMaxTenPaxCost",value:a.SawAirportMaxTenPaxCost,onChange:r,error:Boolean(h.SawAirportMaxTenPaxCost),helperText:h.SawAirportMaxTenPaxCost,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]})]}),Object(f.jsx)(re.a,{item:!0,container:!0,justifyContent:"center",children:Object(f.jsx)(y,{style:"submit",btnText:"submit"})})]})})}})})},Ve=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/users/",t).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/users/").then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete("/users/".concat(t)).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(){var e=Object(M.a)(D.a.mark((function e(t,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.patch("/users/".concat(r),t).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();var Ge=function(){var e=We(),t=K().updateSnackBarMessage,r=X().language;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(re.a,{container:!0,direction:"column",alignItems:"center",component:Ce.a,spacing:2,className:e.root,children:Object(f.jsxs)(re.a,{item:!0,style:{backgroundColor:"#D3D3D3"},children:[Object(f.jsx)(ae.a,{variant:"h2",className:e.title,children:"tr"===r?"m\xfc\u015fteri ekle":"add client"}),Object(f.jsx)(He,{handleSubmit:function(e){Ve(e).then((function(e){e.error?(console.log(e.error),t(e.error.message)):e.success?(console.log(e.success),t("Client has been added successfully!")):t("An unexpected error occurred. Please try again !")}))},values:{email:"",firstName:"",lastName:"",businessType:"",address:"",propertyName:"",IstAirportMaxFourPaxCost:0,IstAirportMaxSixPaxCost:0,IstAirportMaxTenPaxCost:0,SawAirportMaxFourPaxCost:0,SawAirportMaxSixPaxCost:0,SawAirportMaxTenPaxCost:0}})]})})})},Ye=r(104),$e=Object(l.a)((function(e){return{mainBox:{padding:e.spacing(3)},title:{fontSize:20,fontWeight:800,textTransform:"uppercase",marginBottom:20}}})),Qe=Object(l.a)((function(e){return{root:{padding:e.spacing(5),alignItems:"center",justifyContent:"center"},title:{fontSize:20,fontWeight:800,textTransform:"uppercase",marginBottom:50}}})),Xe=function(e){var t=e.values,r=e.handleUpdatedClientSuccess,n=Qe(),a=n.root,i=n.title,c=K().updateSnackBarMessage;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(re.a,{container:!0,direction:"column",className:a,justify:"center",children:[Object(f.jsx)(ae.a,{className:i,children:"Update Client"}),Object(f.jsx)(re.a,{item:!0,children:Object(f.jsx)(He,{handleSubmit:function(e){var n=t._id;Je(e,n).then((function(e){e.error?c(e.error.message):e.success?(r(t,e.success.client),c("Client has been updated successfully!")):c("An unexpected error occurred. Please try again !")}))},values:t})})]})})},Ze={email:"",firstName:"",lastName:"",businessType:"",address:"",propertyName:"",IstAirportMaxFourPaxCost:0,IstAirportMaxSixPaxCost:0,IstAirportMaxTenPaxCost:0,SawAirportMaxFourPaxCost:0,SawAirportMaxSixPaxCost:0,SawAirportMaxTenPaxCost:0},et=function(){var e=$e(),t=e.mainBox,r=e.title,a=X().language,i=Object(n.useState)([]),c=Object(s.a)(i,2),l=c[0],d=c[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),b=p[0],j=p[1],g=Object(n.useState)(!1),O=Object(s.a)(g,2),v=O[0],w=O[1],N=Object(n.useState)(Ze),C=Object(s.a)(N,2),T=C[0],k=C[1],S=K().updateSnackBarMessage,P=Object(o.f)();Object(n.useEffect)((function(){_e().then((function(e){e.error?(console.log(e.error),S(e.error.message)):e.success?(e.success.clients.map((function(e,t){e.id=t+1;var r=new Date(e.createdAt?e.createdAt:Date.now());e.createdAt=Object(u.a)(r,"dd-MM-yyyy kk:mm")})),d(e.success.clients)):S("An unexpected error occurred. Please try again !")}))}),[P]);var A=function(e){w(!0),k(e.row)},I=function(e){j(!0),k(e.row)},D=function(){j(!1)},M="tr"===a?{text:"Bu m\xfc\u015fteriyi silmek istedi\u011finizden emin misiniz?",yes:"Evet",no:"Hay\u0131r "}:{text:"Are you sure you want to delete this client?",yes:"Yes",no:"No "},F="tr"===a?function(e,t){return[{field:"propertyName",headerName:"Emlak",width:150},{field:"businessType",headerName:"Tip",width:150},{field:"email",headerName:"Email",width:250},{field:"address",headerName:"Address",width:250},{field:"createdAt",headerName:"Kat\u0131lma Tarihi",width:200},{field:"D\xfczenle",width:175,renderCell:function(t){return Object(f.jsx)(y,{style:"edit",btnText:"D\xfczenle",onClick:function(){return e(t)}})}},{field:"Sil",width:175,renderCell:function(e){return Object(f.jsx)(y,{style:"delete",btnText:"Sil",onClick:function(){return t(e)}})}}]}(A,I):function(e,t){return[{field:"propertyName",headerName:"Property",width:150},{field:"businessType",headerName:"Type",width:150},{field:"email",headerName:"Email",width:250},{field:"address",headerName:"Address",width:250},{field:"createdAt",headerName:"Joining Date",width:200},{field:"Edit",width:175,renderCell:function(t){return Object(f.jsx)(y,{style:"edit",btnText:"edit",onClick:function(){return e(t)}})}},{field:"Delete",width:175,renderCell:function(e){return Object(f.jsx)(y,{style:"delete",btnText:"Delete",onClick:function(){return t(e)}})}}]}(A,I);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{rows:l,columns:F}),Object(f.jsx)(Y,{open:b,onClose:D,children:Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{display:"flex",alignItems:"center",flexDirection:"column",className:t,children:[Object(f.jsx)(ae.a,{className:r,children:M.text}),Object(f.jsxs)(m.a,{justifyContent:"center",m:2,pt:3,children:[Object(f.jsx)(y,{btnText:M.yes,style:"yes",onClick:function(){var e=null===T||void 0===T?void 0:T._id;Ke(e).then((function(e){e.error?S(e.error.message):e.success?(S("Client has been deleted successfully!"),d(l.filter((function(e){return e.id!==(null===T||void 0===T?void 0:T.id)}))),j(!1)):S("An unexpected error occurred. Please try again !")}))}}),Object(f.jsx)(y,{btnText:M.no,style:"no",onClick:D})]})]})})}),Object(f.jsx)(Y,{open:v,onClose:function(){w(!1)},children:Object(f.jsx)(Xe,{values:T,handleUpdatedClientSuccess:function(e,t){d(l.map((function(r){return r._id===e._id?Object(Ye.a)(Object(Ye.a)({},r),t):r}))),w(!1)}})})]})},tt=function(e,t){return R.a.patch("/agency-reservation/".concat(t),e).then((function(e){return e.data})).catch((function(e){return e.response.data}))},rt=function(){var e=Object(M.a)(D.a.mark((function e(t,r,n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/agency-reservation/stat/".concat(t),{params:{from:r,to:n}}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),nt=function(){var e=Object(M.a)(D.a.mark((function e(t,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/agency-reservation",{params:{from:t,to:r}}).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),at=function(){var e=Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/agency-reservation/stat/").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(){var e=Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/agency-reservation/statinfo/").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=r(405),ot=r(407),st=r(452),lt=r(453),dt=r(454),ut=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/driver",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(M.a)(D.a.mark((function e(t,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.patch("/driver/".concat(r),t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ht=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete("/driver/".concat(t)).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(M.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/driver/all").then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=Object(l.a)((function(e){return{root:{padding:e.spacing(3),minHeight:"100vh",width:"50vh"},listItem:{"&:hover":{cursor:"pointer",opacity:.5,backgroundColor:"#D3D3D3"},"&.selected":{backgroundColor:"#A9A9A9"}}}})),jt=function(e){var t=e.reservation,r=e.invokeUseEffect,a=e.handleClose,i=bt(),c=i.root,o=i.listItem,l=Object(j.a)(o,"selected"),d=Object(n.useState)(),u=Object(s.a)(d,2),m=u[0],h=u[1],p=Object(n.useState)([]),b=Object(s.a)(p,2),x=b[0],g=b[1],O=K().updateSnackBarMessage;Object(n.useEffect)((function(){return pt().then((function(e){e.error?O(e.error):e.success?g(e.success.drivers):O("An unexpected error occurred. Please try again !")})),function(){g([])}}),[]);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(re.a,{container:!0,direction:"column",className:c,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(ae.a,{children:"Please Select Driver"}),Object(f.jsx)(ct.a,{style:{width:"100%",maxWidth:360,backgroundColor:"background.paper"},children:x.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(ot.a,{alignItems:"flex-start",className:m!==e._id?o:l,onClick:function(){h(e._id)},children:[Object(f.jsx)(st.a,{children:Object(f.jsx)(ne.a,{alt:"".concat(e.name),src:"https://airportshuttle0.s3.amazonaws.com/defaultAvatar.png"})}),Object(f.jsx)(lt.a,{primary:"".concat(e.name),secondary:Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(ae.a,{style:{display:"inline"},component:"span",variant:"body2",children:["Car N0: ".concat(e.carNumber)," ",Object(f.jsx)("br",{})," ","Cep: ".concat(e.phoneNumber)]})})})]}),Object(f.jsx)(dt.a,{variant:"inset",component:"li"})]})}))})]}),Object(f.jsxs)(re.a,{item:!0,container:!0,justifyContent:"space-evenly",style:{marginTop:"2em"},children:[Object(f.jsx)(y,{btnText:"Submit",style:"dialogSubmit",onClick:function(){if(void 0!==m){var e=t._id;tt({confirmed:!0,driver:m},e).then((function(e){e.error?O(e.error):e.success?(O("reservation has been confirmed successfully!"),r()):O("An unexpected error occurred. Please try again !")}))}else O("Please select a driver")}}),Object(f.jsx)(y,{btnText:"Cancel",style:"cancel",onClick:a})]})]})})},ft=Object(l.a)((function(e){return{passengerTitle:{textTransform:"uppercase",fontSize:18,fontWeight:800},passengerRoot:{padding:e.spacing(5)}}})),xt=function(e){var t=e.passengers,r=ft(),n=r.passengerRoot,a=r.passengerTitle;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{className:n,children:[Object(f.jsx)(ae.a,{className:a,children:"Passengers"}),Object(f.jsx)(dt.a,{}),Object(f.jsx)(ct.a,{children:t.map((function(e,t){return Object(f.jsx)(ot.a,{children:Object(f.jsx)(lt.a,{primary:"".concat(t+1," ").concat(e)})},t)}))})]})})};var gt=function(){var e=X().language,t=K().updateSnackBarMessage,r=Object(n.useState)([]),a=Object(s.a)(r,2),i=a[0],c=a[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),d=l[0],h=l[1],p=Object(n.useState)(!1),b=Object(s.a)(p,2),j=b[0],g=b[1],O=Object(n.useState)(!1),v=Object(s.a)(O,2),w=v[0],N=v[1],C=Object(n.useState)(),T=Object(s.a)(C,2),k=T[0],S=T[1],P=Object(n.useState)(new Date),A=Object(s.a)(P,2),I=A[0],D=A[1],M=Object(n.useState)([]),F=Object(s.a)(M,2),R=F[0],E=F[1],z=new Date,B=Object(n.useState)(new Date(z.setHours(z.getHours()+24))),L=Object(s.a)(B,2),U=L[0],W=L[1],q=function(e){var r=e.row._id;tt({status:"processed"},r).then((function(r){r.error?t(r.error):r.success?(t("reservation has been processed successfully!"),c(i.filter((function(t){return t.id!==e.id})))):t("An unexpected error occurred. Please try again !")}))},H=function(e){var r=e.row._id;tt({status:"unprocessed"},r).then((function(r){r.error?t(r.error):r.success?(t("reservation has been unprocessed successfully!"),c(i.filter((function(t){return t.id!==e.id})))):t("An unexpected error occurred. Please try again !")}))},V=function(e){S(e.row),h(!0)},_=function(){h(!1)},J=function(){N(!w)},G=function(e){E(e.row.passengers),g(!0)};Object(n.useEffect)((function(){return nt(I,U).then((function(e){e.error?t(e.error):e.success?(console.log(e.success),e.success.reservations.map((function(e,t){var r;e.id=t+1,e.status="reservation";var n=new Date(e.selectedDate);e.date=Object(u.a)(n,"dd-MM-yyyy kk:mm"),e.property=null===(r=e.client)||void 0===r?void 0:r.propertyName})),c(e.success.reservations)):t("An unexpected error occurred. Please try again !")})),function(){c([])}}),[w]);var $="eng"===e?function(e,t,r,n){return[{field:"date",headerName:"Date and Time",width:300},{field:"flightNo",headerName:"Flight No",width:150},{field:"from",headerName:"From",width:150},{field:"to",headerName:"To",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/property",width:150},{field:"property",headerName:"Property",width:150},{field:"Action",width:150,renderCell:function(a){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(y,{style:"showResDetails",btnText:"Show",onClick:function(){return n(a)}}),Object(f.jsx)(y,{disabled:a.row.confirmed,style:a.row.confirmed?"confirmed":"confirm",btnText:a.row.confirmed?"confirmed":"confirm",onClick:function(){return r(a)}}),Object(f.jsx)(y,{style:"processed",btnText:"processed",onClick:function(){return e(a)}}),Object(f.jsx)(y,{style:"unprocessed",btnText:"unprocessed",onClick:function(){return t(a)}})]})})}}]}(q,H,V,G):function(e,t,r,n){return[{field:"date",headerName:"Traih va Saat",width:300},{field:"flightNo",headerName:"U\xe7u\u015f No ",width:150},{field:"from",headerName:"Nerden",width:150},{field:"to",headerName:"Nereye",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/Emlak",width:150},{field:"property",headerName:"Emlak",width:150},{field:"Onay",width:150,renderCell:function(a){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{style:{display:"flex",flexDirection:"column"},children:[Object(f.jsx)(y,{style:"showResDetails",btnText:"g\xf6ster",onClick:function(){return n(a)}}),Object(f.jsx)(y,{disabled:a.row.confirmed,style:a.row.confirmed?"confirmed":"confirm",btnText:a.row.confirmed?"onaylandi":"onay",onClick:function(){return r(a)}}),Object(f.jsx)(y,{style:"processed",btnText:"i\u015flenmi\u015f",onClick:function(){return e(a)}}),Object(f.jsx)(y,{style:"unprocessed",btnText:"i\u015flenmemi\u015f",onClick:function(){return t(a)}})]})})}}]}(q,H,V,G);return Object(f.jsxs)(m.a,{children:[Object(f.jsx)(je,{from:I,to:U,setFrom:D,setTo:W,invokeUseEffect:J}),Object(f.jsx)(x,{rows:i,columns:$}),Object(f.jsx)(Y,{open:d,onClose:_,children:Object(f.jsx)(jt,{reservation:k,invokeUseEffect:J,handleClose:_})}),Object(f.jsx)(Y,{open:j,onClose:function(){g(!1)},children:Object(f.jsx)(xt,{passengers:R})})]})},Ot=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),backgroundColor:"#D3D3D3","& .MuiFormControl-root":{marginTop:e.spacing(1)}},inputs:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",borderColor:"blue",fontSize:16,height:"100%",padding:e.spacing(2),marginTop:0,transition:e.transitions.create(["border-color","box-shadow"]),"&:cfous":{boxShadow:"".concat(Object(ue.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:e.palette.primary.main}},inputLabel:{fontSize:12,fontWeight:800,textTransform:"uppercase",color:e.palette.common.black},fieldInputLabel:{fontSize:12,fontWeight:800,textTransform:"uppercase",color:e.palette.common.black,marginTop:"0.5em"},select:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",borderColor:"blue",fontSize:16,padding:e.spacing(2),marginTop:"0.5em",width:200,transition:e.transitions.create(["border-color","box-shadow"])},circularProgress:{color:e.palette.common.white},submit:{textTransform:"uppercase",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.primary.main,margin:e.spacing(6,2,2),padding:e.spacing(1),width:160,height:56,fontSize:12,fontWeight:600},itemContainer:{margin:"1em 0 1em 0"},menuItem:{width:"100px"}}})),yt=[{value:"TL",label:"TL"},{value:"USD",label:"$"},{value:"EUR",label:"\u20ac"}];var vt=function(e){var t=e.form,r=e.handleSubmit,n=e.clientId,a=t.type,i=t.note,c=t.paid,o=t.currency,s=t.exchangeRate,l=t.paidInTL,d=Ot();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ke.d,{initialValues:{clientId:n,type:"",paid:0,currency:"TL",exchangeRate:0,paidInTL:0,note:""},validationSchema:Se.c().shape({type:Se.d().required("This Field is required"),paid:Se.b().min(1).default(0),currency:Se.d().required("This Field is required"),exchangeRate:Se.b().min(1).default(1),paidInTL:Se.b().min(1).default(1),note:Se.d()}),onSubmit:function(e){r(e)},children:function(e){var t=e.handleSubmit,r=e.handleChange,n=e.values,u=(e.touched,e.errors);e.isSubmitting;return Object(f.jsx)("form",{onSubmit:t,className:d.form,noValidate:!0,children:Object(f.jsxs)(re.a,{container:!0,direction:"column",alignItems:"center",children:[Object(f.jsx)(re.a,{item:!0,children:Object(f.jsxs)(re.a,{item:!0,container:!0,className:d.itemContainer,spacing:4,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{id:"type",className:d.inputLabel,children:a}),Object(f.jsxs)(Ie.a,{id:"type",name:"type",autoWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},value:n.type,onChange:r,classes:{select:d.select},children:[Object(f.jsx)(De.a,{value:"cash",children:"cash"}),Object(f.jsx)(De.a,{value:"credit card",children:"credit card"})]}),Object(f.jsx)(Me.a,{error:Boolean(u.type),children:u.type})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:d.inputLabel,children:i}),Object(f.jsx)(Fe.a,{id:"note",name:"note",error:Boolean(u.note),helperText:u.note,InputProps:{classes:{input:d.inputs},disableUnderline:!0},value:n.note,onChange:r})]})]})}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsxs)(re.a,{item:!0,container:!0,className:d.itemContainer,spacing:4,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:d.inputLabel,children:c}),Object(f.jsx)(Fe.a,{id:"paid",name:"paid",error:Boolean(u.paid),helperText:u.paid,InputProps:{classes:{input:d.inputs},disableUnderline:!0},value:n.paid,onChange:r})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:d.inputLabel,children:o}),Object(f.jsx)(Ie.a,{id:"currency",name:"currency",autoWidth:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},value:n.currency,onChange:r,classes:{select:d.select},children:yt.map((function(e){var t=e.value,r=e.label;return Object(f.jsx)(De.a,{value:t,children:r},r)}))}),Object(f.jsx)(Me.a,{error:Boolean(u.currency),children:u.currency})]})]}),Object(f.jsxs)(re.a,{item:!0,container:!0,className:d.itemContainer,spacing:4,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:d.inputLabel,children:s}),Object(f.jsx)(Fe.a,{id:"exchangeRate",name:"exchangeRate",error:Boolean(u.exchangeRate),helperText:u.exchangeRate,InputProps:{classes:{input:d.inputs},disableUnderline:!0},value:"TL"===n.currency?n.exchangeRate=1:n.exchangeRate,onChange:r})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:d.inputLabel,children:l}),Object(f.jsx)(Fe.a,{id:"paidInTL",name:"paidInTL",error:Boolean(u.paidInTL),helperText:u.paidInTL,InputProps:{classes:{input:d.inputs},disableUnderline:!0},value:n.paidInTL=n.paid*n.exchangeRate,onChange:r})]})]}),Object(f.jsx)(re.a,{item:!0,children:Object(f.jsx)(y,{style:"submit",btnText:"submit"})})]})]})})}})})},wt=Object(l.a)((function(e){return{root:{minHeight:"100vh",justifyContent:"center",alignContent:"center",marginTop:"2em",padding:e.spacing(2)},title:{textTransform:"uppercase"}}})),Nt=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("/agency-payment/",t).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("/agency-payment/".concat(t)).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(M.a)(D.a.mark((function e(t,r){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.patch("/agency-payment/".concat(r),t).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),kt=T,St=k;var Pt=function(e){var t=e.clientId,r=wt(),n=X().language,a=K().updateSnackBarMessage,i="eng"===n?kt:St;return Object(f.jsx)(re.a,{container:!0,component:Ce.a,className:r.root,alignItems:"center",children:Object(f.jsx)(re.a,{item:!0,xs:12,sm:12,md:12,lg:12,children:Object(f.jsx)(m.a,{display:"flex",flexDirection:"column",minHeight:"100vh",width:"100%",children:Object(f.jsxs)(m.a,{children:[Object(f.jsx)(ae.a,{variant:"h4",color:"primary",className:r.title,children:i.title}),Object(f.jsx)(vt,{form:i.form,handleSubmit:function(e){Nt(e).then((function(e){e.error?a(e.error.message):e.success?a("Payment has been saved successfully "):a("An unexpected error occurred. Please try again !")}))},clientId:t})]})})})})};var At=function(e){var t=e.clientId,r=Object(n.useState)([]),a=Object(s.a)(r,2),i=a[0],c=a[1],o=K().updateSnackBarMessage,l=function(e){var r=e.row._id;Tt({status:"canceled",clientId:t},r).then((function(t){t.error?o(t.error.message):t.success?(o("Payment has been canceled successfully"),c(i.filter((function(t){return t.id!==e.id})))):o("An unexpected error occurred. Please try again !")}))},d="eng"===X().language?function(e){return[{field:"property",headerName:"Property",width:200},{field:"createdAt",headerName:"Date of Payment",width:275},{field:"paid",headerName:"Paid",width:150},{field:"currency",headerName:"Currency",width:150},{field:"exchangeRate",headerName:"Exchange Rate",width:150},{field:"paidInTL",headerName:"Paid in TL",width:150},{field:"Cancel",width:225,renderCell:function(t){return Object(f.jsx)(y,{style:"delete",btnText:"Cancel",onClick:function(){return e(t)}})}}]}(l):function(e){return[{field:"property",headerName:"Emlak",width:200},{field:"createdAt",headerName:"\xf6deme Tarihi",width:275},{field:"paid",headerName:"\xf6deme",width:150},{field:"currency",headerName:"Para Birimi ",width:150},{field:"exchangeRate",headerName:"D\xf6viz Kuru",width:150},{field:"paidInTL",headerName:"TL Olarak \xf6denen",width:150},{field:"Iptal",width:225,renderCell:function(t){return Object(f.jsx)(y,{style:"delete",btnText:"Iptal",onClick:function(){return e(t)}})}}]}(l);return Object(n.useEffect)((function(){Ct(t).then((function(e){e.error?console.log(e.error.message):e.success?(e.success.payment.map((function(e,t){var r,n;e.id=t+1,e.status="payment",e.property=null===(r=e.client)||void 0===r?void 0:r.property,e.email=null===(n=e.client)||void 0===n?void 0:n.email;var a=e.createdAt?new Date(e.createdAt):new Date;e.createdAt=Object(u.a)(a,"dd-MM-yyyy kk:mm")})),c(e.success.payment)):console.log("External Error!")}))}),[]),Object(f.jsx)(x,{rows:i,columns:d})};var It=function(e){var t=e.clientId,r=e.debt,a="eng"===X().language?[{field:"date",headerName:"Date and Time",width:300},{field:"flightNo",headerName:"Flight No",width:150},{field:"from",headerName:"From",width:150},{field:"to",headerName:"To",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/property",width:200},{field:"cost",headerName:"Cost",width:225},{field:"paid",headerName:"Paid",width:150},{field:"currency",headerName:"Currency",width:150},{field:"exchangeRate",headerName:"Exchange Rate",width:150},{field:"totalReservationsCost",headerName:"Total Cost",width:150},{field:"paymentTotal",headerName:"Paid in TL",width:150},{field:"debt",headerName:"Remaining Amount In TL",width:150}]:[{field:"date",headerName:"Traih va Saat",width:300},{field:"flightNo",headerName:"U\xe7u\u015f No ",width:150},{field:"from",headerName:"Nerden",width:150},{field:"to",headerName:"Nereye",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/Emlak",width:200},{field:"cost",headerName:"Ucret",width:225},{field:"paid",headerName:"\xf6deme",width:150},{field:"currency",headerName:"Para Birimi ",width:150},{field:"exchangeRate",headerName:"D\xf6viz Kuru",width:150},{field:"totalReservationsCost",headerName:"Toplam Tutar ",width:150},{field:"paymentTotal",headerName:"TL Olarak \xf6dendi",width:150},{field:"debt",headerName:"Bor\xe7",width:150}],i=Object(n.useState)([]),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),h=Object(s.a)(d,2),p=h[0],b=h[1],j=Object(n.useState)(new Date),g=Object(s.a)(j,2),O=g[0],y=g[1],v=new Date,w=Object(n.useState)(new Date(v.setHours(v.getHours()+24))),N=Object(s.a)(w,2),C=N[0],T=N[1],k=Object(n.useRef)(0),S=Object(n.useRef)(0),P=Object(n.useRef)([{id:10000200,totalReservationsCost:0,paymentTotal:0,debt:r,status:"total"}]);return Object(n.useEffect)((function(){return rt(t,O,C).then((function(e){var t=0;e.error?console.log(e.error):e.success?(e.success.reservations.map((function(e){e.id=t+1,e.status="reservation";var r=new Date(e.selectedDate);e.date=Object(u.a)(r,"dd-MM-yyyy kk:mm"),k.current+=e.cost?e.cost:0,t++})),e.success.payments.map((function(e){var r;e.id=t+1,e.property=null===(r=e.client)||void 0===r?void 0:r.property,e.status="payment";var n=new Date(e.createdAt?e.createdAt:new Date);e.date=Object(u.a)(n,"dd-MM-yyyy kk:mm"),S.current+=e.paidInTL,t++})),P.current[0].totalReservationsCost=k.current,P.current[0].paymentTotal=S.current,P.current[0].debt=k.current-S.current,l([].concat(Object(le.a)(e.success.reservations),Object(le.a)(e.success.payments),Object(le.a)(P.current)).sort((function(e,t){return parseFloat(e.date)-parseFloat(t.date)})))):console.log("External Error, please try again Later!")})),function(){k.current=0,S.current=0,l([])}}),[p]),Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{display:"flex",flexDirection:"column",children:[Object(f.jsx)(je,{from:O,to:C,setFrom:y,setTo:T,invokeUseEffect:function(){b(!p)}}),Object(f.jsx)(x,{rows:o,columns:a})]})})},Dt=r(455),Mt=r(446);var Ft=function(){var e=X().language,t=Object(o.f)(),r=Object(n.useState)(!1),a=Object(s.a)(r,2),i=a[0],c=a[1],l=Object(n.useState)(!1),d=Object(s.a)(l,2),u=d[0],m=d[1],h=Object(n.useState)(!1),p=Object(s.a)(h,2),b=p[0],j=p[1],g=Object(n.useState)([]),O=Object(s.a)(g,2),v=O[0],w=O[1],N=Object(n.useState)(""),C=Object(s.a)(N,2),T=C[0],k=C[1],S=Object(n.useState)(0),P=Object(s.a)(S,2),A=P[0],I=P[1],D=function(e){k(e.row._id),c(!0)},M=function(e){k(e.row._id),m(!0)},F=function(){m(!1)},R=function(e){I(e.row.debt),k(e.row._id),j(!0)},E=function(){j(!1)},z="eng"===e?function(e,t,r){return[{field:"propertyName",headerName:"Property",width:200},{field:"email",headerName:"Email",width:275},{field:"debt",headerName:"Debt in TL",width:150},{field:"Add Payment",width:225,renderCell:function(t){return Object(f.jsx)(y,{style:"addPayment",btnText:"add payment",onClick:function(){return e(t)}})}},{field:"All Payments",width:225,renderCell:function(e){return Object(f.jsx)(y,{style:"allPayments",btnText:"all payments",onClick:function(){return t(e)}})}},{field:"Details",width:225,renderCell:function(e){return Object(f.jsx)(y,{style:"details",btnText:"details",onClick:function(){return r(e)}})}}]}(D,M,R):function(e,t,r){return[{field:"property",headerName:"Emlak",width:200},{field:"email",headerName:"Email",width:275},{field:"debt",headerName:"Bor\xe7 TL olarak",width:150},{field:"\xd6deme Ekle",width:225,renderCell:function(t){return Object(f.jsx)(y,{style:"addPayment",btnText:"\xd6deme ekle",onClick:function(){return e(t)}})}},{field:"\xd6demeler",width:225,renderCell:function(e){return Object(f.jsx)(y,{style:"allPayments",btnText:"\xd6demeler",onClick:function(){return t(e)}})}},{field:"Detaylar",width:225,renderCell:function(e){return Object(f.jsx)(y,{style:"details",btnText:"detaylar",onClick:function(){return r(e)}})}}]}(D,M,R);return Object(n.useEffect)((function(){return _e().then((function(e){e.error?console.log("data error"):e.success?(e.success.clients.map((function(e,t){e.id=t+1,e.status="client"})),w(e.success.clients)):console.log("external error")})),function(){w([])}}),[t,u,i]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(x,{rows:v,columns:z}),Object(f.jsx)(Y,{open:i,onClose:function(){c(!1)},style:"addPayment",children:Object(f.jsx)(Pt,{clientId:T})}),Object(f.jsxs)(Y,{open:u,onClose:F,style:"addPayment",isFullScreen:!0,children:[Object(f.jsx)(Dt.a,{position:"static",children:Object(f.jsxs)(Mt.a,{children:[Object(f.jsx)(W.a,{edge:"start",color:"inherit",onClick:F,"aria-label":"close",children:Object(f.jsx)(H.a,{})}),Object(f.jsx)(ae.a,{variant:"h6",component:"div",children:"All Payments"})]})}),Object(f.jsx)(At,{clientId:T})]}),Object(f.jsxs)(Y,{open:b,onClose:E,style:"addPayment",isFullScreen:!0,children:[Object(f.jsx)(Dt.a,{position:"static",children:Object(f.jsxs)(Mt.a,{children:[Object(f.jsx)(W.a,{edge:"start",color:"inherit",onClick:E,"aria-label":"close",children:Object(f.jsx)(H.a,{})}),Object(f.jsx)(ae.a,{variant:"h6",component:"div",children:"Reservations and Payments details"})]})}),Object(f.jsx)(It,{clientId:T,debt:A})]})]})},Rt=(r(396),r(11)),Et=Object(l.a)((function(e){return{root:{minHeight:"100vh",justifyContent:"center",alignContent:"center",marginTop:"2em"},welcome:{paddingTop:e.spacing(10),paddingBottom:20,color:e.palette.common.black,fontWeight:700,textAlign:"center",width:"95%"},signinImage:Object(Rt.a)({height:"100%"},e.breakpoints.down("md"),{width:"100%"})}})),zt=r(412),Bt=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),"& .MuiFormControl-root":{marginTop:e.spacing(1)}},label:{marginTop:e.spacing(2),textTransform:"uppercase",color:e.palette.common.black,fontSize:12,fontWeight:800},inputs:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,height:"100%",padding:e.spacing(2),marginTop:0,transition:e.transitions.create(["border-color","box-shadow"]),"&:cfous":{boxShadow:"".concat(Object(ue.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:e.palette.primary.main}},submit:{textTransform:"uppercase",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.primary.main,margin:e.spacing(6,2,2),padding:e.spacing(1),width:160,height:56,fontSize:12,fontWeight:600},circularProgress:{color:e.palette.common.white}}}));var Lt=function(e){var t=e.handleSubmit,r=Bt();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ke.d,{initialValues:{username:"",password:""},validationSchema:Se.c().shape({username:Se.d().required("Username is reqeuired!").min(3,"Username is too short"),password:Se.d().required("Password is requried!").min(5,"Password is too short!")}),onSubmit:t,children:function(e){var t=e.handleSubmit,n=e.handleChange,a=e.values,i=(e.touched,e.errors),c=e.isSubmitting;return Object(f.jsx)("form",{onSubmit:t,className:r.form,noValidate:!0,children:Object(f.jsxs)(re.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:r.label,children:"username"}),Object(f.jsx)(Fe.a,{id:"username",name:"username",error:Boolean(i.username),helperText:i.username,value:a.username,onChange:n,InputLabelProps:{shrink:!0},InputProps:{classes:{input:r.inputs},disableUnderline:!0}}),Object(f.jsx)(de.a,{className:r.label,children:"password"}),Object(f.jsx)(Fe.a,{id:"password",name:"password",type:"password",error:Boolean(i.password),helperText:i.password,value:a.password,onChange:n,InputLabelProps:{shrink:!0},InputProps:{classes:{input:r.inputs},disableUnderline:!0}})]}),Object(f.jsx)(re.a,{item:!0,children:Object(f.jsx)(g.a,{size:"large",type:"submit",variant:"contained",color:"primary",className:r.submit,children:c?Object(f.jsx)(zt.a,{className:r.circularProgress}):"Login"})})]})})}})})},Ut=function(){var e=Object(M.a)(D.a.mark((function e(t,r){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={username:t,password:r},e.next=3,R.a.post("/auth/login",n).then((function(e){return e.data})).catch((function(){return{error:{message:"Unable to connect to server. Please try again"}}}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(M.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.patch("/auth/change-password",t).then((function(e){return e.data})).catch((function(e){return e.response.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qt=Ut;var Ht=function(){var e=Et(),t=we().updateLoginContext,r=K().updateSnackBarMessage;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(re.a,{container:!0,component:"main",className:e.root,spacing:2,children:[Object(f.jsx)(re.a,{item:!0,xs:6,sm:6,md:6,lg:8,children:Object(f.jsx)("img",{src:"https://airportshuttle0.s3.amazonaws.com/airportShuttle03.jpg",alt:"sign in",className:e.signinImage})}),Object(f.jsx)(re.a,{item:!0,component:Ce.a,xs:6,sm:6,md:6,lg:4,children:Object(f.jsxs)(m.a,{display:"flex",flexDirection:"column",minHeight:"100vh",children:[Object(f.jsx)(m.a,{children:Object(f.jsx)(ae.a,{variant:"h2",className:e.welcome,children:"Sign in"})}),Object(f.jsx)(Lt,{handleSubmit:function(e,n){var a=e.username,i=e.password,c=n.setSubmitting;qt(a,i).then((function(e){e.error?(c(!1),r(e.error.message)):e.success?t(e.success):(c(!1),r("An unexpected error occurred. Please try again !"))}))}})]})})]})})},Vt=Object(l.a)((function(e){return{root:{display:"flex",justifyContent:"center",width:"100%"},tabs:{textTransform:"uppercase",fontWeight:800,fontSize:12},gridItem:{position:"absolute",right:150}}})),_t=r(413),Kt=r(229),Jt=Object(l.a)((function(e){return{root:{width:136},menu:{backgroundColor:"#808080",color:e.palette.common.white,marginLeft:"1em",marginTop:"3em",opacity:.7,"&:hover":{opacity:1}},menuItem:{opacity:.7,"&:hover":{opacity:1}},tabStyle:{fontWeight:"bold"}}}));var Gt=function(){var e=X(),t=e.updateLanguage,r=e.language,a=Object(n.useState)("eng"),i=Object(s.a)(a,2),c=i[0],o=(i[1],Object(n.useState)(null)),l=Object(s.a)(o,2),d=l[0],u=l[1],p=Object(n.useState)(!1),b=Object(s.a)(p,2),j=b[0],x=b[1],g=Jt(),O=g.menu,y=g.menuItem,v=g.root,w=g.tabStyle,N=function(){u(null),x(!1)},C=function(e){t(e),N()};return Object(f.jsxs)(m.a,{className:v,children:[Object(f.jsx)(_t.a,{value:c,TabIndicatorProps:{style:{display:"none"}},children:Object(f.jsx)(h.a,{"aria-owns":d?"simple-menu":void 0,"aria-haspopup":!!d||void 0,onClick:function(e){return u(e.currentTarget),void x(!0)},className:w,label:"eng"===r?"Language":"Dil"})}),Object(f.jsxs)(Kt.a,{id:"simple-menu",anchorEl:d,open:j,onClose:N,classes:{paper:O},MenuListProps:{onMouseLeave:N},elevation:0,children:[Object(f.jsx)(De.a,{classes:{root:y},onClick:function(){C("eng")},children:"ENG-Enlish"}),Object(f.jsx)(De.a,{classes:{root:y},onClick:function(){C("tr")},children:"TR-Turkish"})]})]})},Yt=r(237),$t=r.n(Yt),Qt=Object(l.a)((function(e){return{root:{width:136},menu:{backgroundColor:"#808080",color:e.palette.common.white,marginLeft:"1em",marginTop:"3em",opacity:.7,"&:hover":{opacity:1}},menuItem:{opacity:.7,"&:hover":{opacity:1}},tabStyle:{fontWeight:"bold"}}})),Xt=Object(l.a)((function(e){return{root:{padding:e.spacing(10),backgroundColor:"#D0D0D0"},title:{fontSize:18,fontWeight:800,textTransform:"uppercase",marginBottom:"1em"},inputs:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,height:"100%",padding:e.spacing(2),marginBottom:"2em",transition:e.transitions.create(["border-color","box-shadow"]),"&:cfous":{boxShadow:"".concat(Object(ue.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:e.palette.primary.main}},label:{fontSize:12,fontWeight:800,color:e.palette.common.black,textTransform:"uppercase"}}})),Zt=function(e){var t=e.handleDialogClose,r=Xt(),a=r.root,i=r.title,c=r.inputs,o=(r.label,Object(n.useState)("")),l=Object(s.a)(o,2),d=l[0],u=l[1],h=Object(n.useState)(""),p=Object(s.a)(h,2),b=p[0],j=p[1],x=K().updateSnackBarMessage,g=X().language,O=function(e,t){switch(e){case"oldPassword":u(t.target.value);break;case"newPassword":j(t.target.value)}};return Object(f.jsxs)(m.a,{className:a,children:[Object(f.jsx)(ae.a,{className:i,children:"eng"===g?"Change Password":"\u015eifre De\u011fi\u015ftir "}),Object(f.jsx)(de.a,{children:"eng"===g?"Old Password":"Eski \u015eifre"}),Object(f.jsx)(Fe.a,{type:"password",value:d,onChange:function(e){O("oldPassword",e)},InputProps:{classes:{input:c},disableUnderline:!0}}),Object(f.jsx)(de.a,{children:"eng"===g?"New Password":"Yeni \u015eifre"}),Object(f.jsx)(Fe.a,{type:"password",value:b,onChange:function(e){O("newPassword",e)},InputProps:{classes:{input:c},disableUnderline:!0}}),Object(f.jsx)(m.a,{}),Object(f.jsx)(y,{style:"submit",btnText:"Submit",onClick:function(){Wt({oldPassword:d,newPassword:b}).then((function(e){e.error?x(e.error):e.success?(x("Password has been updated successfully"),t()):x("An unexpected error occurred. Please try again !")}))}})]})},er=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),r=t[0],a=t[1],i=Object(n.useState)(!1),c=Object(s.a)(i,2),o=c[0],l=c[1],d=Object(n.useState)(!1),u=Object(s.a)(d,2),m=u[0],h=u[1],p=Qt(),b=p.menu,j=p.menuItem,x=(p.root,p.tabStyle,we().logout),g=X().language,O=function(){a(null),l(!1)},y=function(){h(!m)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(W.a,{"aria-label":"fingerprint",onClick:function(e){a(e.currentTarget),l(!0)},children:Object(f.jsx)($t.a,{})}),Object(f.jsxs)(Kt.a,{id:"simple-menu",anchorEl:r,open:o,onClose:O,classes:{paper:b},MenuListProps:{onMouseLeave:O},elevation:0,children:[Object(f.jsx)(De.a,{classes:{root:j},onClick:function(){h(!0)},children:"eng"===g?"Change Password":"\u015eifre De\u011fi\u015ftir "}),Object(f.jsx)(De.a,{classes:{root:j},onClick:function(){x()},children:"eng"===g?"Logout":"\xc7iki\u015f"})]}),Object(f.jsx)(Y,{open:m,onClose:y,children:Object(f.jsx)(Zt,{handleDialogClose:y})})]})},tr=N,rr=C;var nr=function(){var e=Vt(),t=X().language;return Object(f.jsxs)(re.a,{container:!0,className:e.root,children:[Object(f.jsx)(re.a,{item:!0,children:Object(f.jsx)(_t.a,{"aria-label":"wrapped label tabs example",TabIndicatorProps:{style:{display:"none"}},children:("tr"===t?rr:tr).map((function(t,r){var n=t.label,a=t.to;return Object(f.jsx)(h.a,{label:n,component:c.b,to:a,className:e.tabs},r)}))})}),Object(f.jsx)(re.a,{item:!0,className:e.gridItem,children:Object(f.jsxs)(re.a,{container:!0,children:[Object(f.jsx)(Gt,{}),Object(f.jsx)(er,{})]})})]})},ar=Object(l.a)((function(e){return{gridItem:{position:"absolute",right:150},root:{display:"flex",justifyContent:"center",width:"100%"},tabs:{textTransform:"uppercase",fontWeight:800,fontSize:12},menu:{backgroundColor:"#808080",color:e.palette.common.white,marginTop:"2em",opacity:.7,"&:hover":{opacity:1}}}}));var ir=function(){var e=ar(),t=Object(n.useState)(null),r=Object(s.a)(t,2),a=r[0],i=r[1],c=Object(n.useState)(null),l=Object(s.a)(c,2),d=l[0],u=l[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),b=p[0],j=p[1],x=Object(n.useState)(!1),g=Object(s.a)(x,2),O=g[0],y=g[1],v=X().language,w=Object(o.f)(),N=function(e,t){w.push(t),j(!1),y(!1)},C=function(e,t,r){t(e.currentTarget),r(!0)},T={englishTabs:[{label:"Home",handleClick:function(e){return N(0,"/agency-home")}},{label:"clients ",handleClick:function(e){return C(e,u,y)}},{label:"reservations",handleClick:function(e){return N(0,"/agency-reservation")}},{label:"payments",handleClick:function(e){return N(0,"/agency-payment")}},{label:"dirvers",handleClick:function(e){return C(e,i,j)}}],turkishTabs:[{label:"Home",handleClick:function(e){return N(0,"/agency-home")}},{label:"m\xfc\u015fteriler ",handleClick:function(e){return C(e,u,y)}},{label:"rezervasyonlar",handleClick:function(e){return N(0,"/agency-reservation")}},{label:"finans",handleClick:function(e){return N(0,"/agency-payment")}},{label:"s\xfcr\xfcc\xfcler",handleClick:function(e){return C(e,i,j)}}]},k=[{anchorEl:a,open:b,onClose:function(){i(null),j(!1)},options:[{label:"eng"===v?"All Drivers":"S\xfcr\xfcc\xfcler",handleClick:function(e){return N(0,"drivers")}},{label:"eng"===v?"Add Driver":"S\xfcr\xfcc\xfc Ekle",handleClick:function(e){return N(0,"add-driver")}}]},{anchorEl:d,open:O,onClose:function(){u(null),y(!1)},options:[{label:"eng"===v?"All Clients":"M\xfc\u015fteriler",handleClick:function(e){return N(0,"clients")}},{label:"eng"===v?"Add Client":"M\xfc\u015fteri Ekle",handleClick:function(e){return N(0,"add-client")}}]}],S=T.englishTabs,P=T.turkishTabs;return Object(f.jsxs)(re.a,{container:!0,className:e.root,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(_t.a,{"aria-label":"wrapped label tabs example",TabIndicatorProps:{style:{display:"none"}},children:("tr"===v?P:S).map((function(t,r){var n=t.label,a=t.handleClick;return Object(f.jsx)(h.a,{label:n,onClick:a,className:e.tabs},r)}))}),k.map((function(t){var r=t.anchorEl,n=t.open,a=t.onClose,i=t.options;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(Kt.a,{id:"lock-menu",anchorEl:r,open:n,onClose:a,classes:{paper:e.menu},MenuListProps:{"aria-labelledby":"lock-button",role:"listbox"},children:i.map((function(e,t){var r=e.label,n=e.handleClick;return Object(f.jsx)(De.a,{onClick:n,children:r},t)}))})})}))]}),Object(f.jsx)(re.a,{item:!0,className:e.gridItem,children:Object(f.jsxs)(re.a,{container:!0,children:[Object(f.jsx)(Gt,{}),Object(f.jsx)(er,{})]})})]})},cr=Object(l.a)((function(e){return{root:{backgroundColor:"#808080",color:"#000000",width:"100%"}}}));var or=function(){var e=we().loggedInUser,t=cr();return Object(f.jsx)(m.a,{children:Object(f.jsx)(Dt.a,{position:"static",className:t.root,children:Object(f.jsx)(Mt.a,{children:e?"client"===(null===e||void 0===e?void 0:e.role)?Object(f.jsx)(m.a,{children:Object(f.jsx)(nr,{})}):Object(f.jsx)(m.a,{children:Object(f.jsx)(ir,{})}):null})})})},sr=Object(l.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1),"& .MuiFormControl-root":{marginTop:e.spacing(1)}},inputs:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,height:"100%",padding:e.spacing(2),marginBottom:"2em",transition:e.transitions.create(["border-color","box-shadow"]),"&:cfous":{boxShadow:"".concat(Object(ue.a)(e.palette.primary.main,.25)," 0 0 0 0.2rem"),borderColor:e.palette.primary.main}},label:{fontSize:12,fontWeight:800,color:e.palette.common.black,textTransform:"uppercase"},select:{borderRadius:4,position:"relative",backgroundColor:e.palette.common.white,border:"1px solid #ced4da",fontSize:16,padding:e.spacing(2),marginTop:"0.5em",width:200,transition:e.transitions.create(["border-color","box-shadow"])},typography:{fontSize:20,fontWeight:800,textTransform:"uppercase",margin:"1em 0 1em 0"}}})),lr={name:"Name",phoneNumber:"Cep",email:"Email",carNumber:"Vehicle No"},dr={name:"Isim",phoneNumber:"Cep",email:"Email",carNumber:"Ara\xe7 No"};var ur=function(e){var t=e.handleSubmit,r=e.initValues,n=sr(),a="tr"===X().language?dr:lr,i=a.name,c=a.phoneNumber,o=a.email,s=a.carNumber;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(ke.d,{initialValues:{email:r.email,name:r.name,phoneNumber:r.phoneNumber,carNumber:r.carNumber},validationSchema:Se.c().shape({email:Se.d().email("Invalid Email Address").required("Please Enter Email Address"),name:Se.d().required("This field can not be blank"),phoneNumber:Se.b().required("This field can not be blank"),carNumber:Se.d().required("This field can not be blank")}),onSubmit:function(e){t(e)},children:function(e){var t=e.handleSubmit,r=e.handleChange,a=e.values,l=(e.touched,e.errors);e.isSubmitting;return Object(f.jsx)(ke.c,{onSubmit:t,className:n.form,noValidate:!0,children:Object(f.jsxs)(re.a,{container:!0,direction:"column",spacing:2,children:[Object(f.jsxs)(re.a,{item:!0,container:!0,justify:"space-evenly",spacing:2,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:i}),Object(f.jsx)(Fe.a,{id:"name",name:"name",value:a.name,onChange:r,error:Boolean(l.name),helperText:l.name,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:c}),Object(f.jsx)(Fe.a,{id:"phoneNumber",name:"phoneNumber",value:a.phoneNumber,onChange:r,error:Boolean(l.phoneNumber),helperText:Boolean(l.phoneNumber)?"please enter a valid number":null,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]})]}),Object(f.jsxs)(re.a,{item:!0,container:!0,justify:"space-evenly",spacing:2,children:[Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:o}),Object(f.jsx)(Fe.a,{id:"email",name:"email",value:a.email,onChange:r,error:Boolean(l.email),helperText:l.email,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]}),Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(de.a,{className:n.label,children:s}),Object(f.jsx)(Fe.a,{id:"carNumber",name:"carNumber",value:a.carNumber,onChange:r,error:Boolean(l.carNumber),helperText:l.carNumber,InputProps:{classes:{input:n.inputs},disableUnderline:!0}})]})]}),Object(f.jsx)(re.a,{item:!0,container:!0,justifyContent:"center",children:Object(f.jsx)(y,{btnText:"submit",style:"submit"})})]})})}})})},mr=Object(l.a)((function(e){return{title:{fontSize:30,fontWeight:800,color:e.palette.common.black,margin:"3em",textTransform:"uppercase"}}})),hr=function(e){var t=e.initValues,r=e.handleClose,n=e.rows,a=e.setRows,i=mr().title,c=K().updateSnackBarMessage;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{children:[Object(f.jsx)(ae.a,{className:i,children:"update driver"}),Object(f.jsx)(ur,{handleSubmit:function(e){var i=t._id;mt(e,i).then((function(e){e.error?c(e.error):e.success?(a(n.map((function(r){var n;return r.id===t.id?Object(Ye.a)(Object(Ye.a)({},r),null===(n=e.success)||void 0===n?void 0:n.driver):r}))),c("Driver has been updated successfully!"),r()):c("An unexpected error occurred. Please try again !")}))},initValues:t})]})})},pr=Object(l.a)((function(e){return{root:{padding:e.spacing(3)},title:{padding:e.spacing(3)}}})),br=function(e){var t=e.initValues,r=e.handleDeleteDialogClose,n=e.rows,a=e.setRows,i=pr(),c=i.title,o=i.root,s=K().updateSnackBarMessage;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(re.a,{container:!0,direction:"column",className:o,children:Object(f.jsxs)(re.a,{item:!0,children:[Object(f.jsx)(ae.a,{className:c,children:"Are you sure you want to delete the driver"}),Object(f.jsxs)(re.a,{item:!0,container:!0,justifyContent:"space-around",children:[Object(f.jsx)(y,{btnText:"Yes",style:"edit",onClick:function(){var e=t._id;ht(e).then((function(e){e.error?s(e.error):e.success?(s("Client has been deleted successfully!"),r(),a(n.filter((function(e){return e.id!==t.id})))):s("An unexpected error occurred. Please try again !")}))}}),Object(f.jsx)(y,{btnText:"No",style:"delete",onClick:function(){r()}})]})]})})})},jr=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),r=t[0],a=t[1],i=Object(n.useState)([]),c=Object(s.a)(i,2),l=c[0],d=c[1],h=Object(n.useState)(),p=Object(s.a)(h,2),b=p[0],j=p[1],g=Object(n.useState)(!1),O=Object(s.a)(g,2),v=(O[0],O[1],Object(n.useState)(!1)),w=Object(s.a)(v,2),N=w[0],C=w[1],T=K().updateSnackBarMessage,k=Object(o.f)(),S=X().language;Object(n.useEffect)((function(){return pt().then((function(e){e.error?T(e.error):e.success?(e.success.drivers.map((function(e,t){e.id=t+1;var r=e.createdAt?new Date(e.createdAt):new Date;e.createdAt=Object(u.a)(r,"dd-MM-yyyy kk:mm")})),d(e.success.drivers)):T("An unexpected error occurred. Please try again !")})),function(){d([])}}),[k]);var P=function(e){j(e.row),a(!0)},A=function(e){j(e.row),C(!0)},I=function(){a(!1)},D=function(){C(!N)},M="eng"===S?function(e,t){return[{field:"name",headerName:"First Name",width:150},{field:"phoneNumber",headerName:"Cep",width:150},{field:"email",headerName:"Email",width:300},{field:"carNumber",headerName:"Car No",width:150},{field:"createdAt",headerName:"Joining Date",width:200},{field:"Edit",width:175,renderCell:function(t){return Object(f.jsx)(y,{style:"edit",btnText:"edit",onClick:function(){return e(t)}})}},{field:"Cancel",width:175,renderCell:function(e){return Object(f.jsx)(y,{style:"delete",btnText:"Cancel",onClick:function(){return t(e)}})}}]}(P,A):function(e,t){return[{field:"name",headerName:"Ad\u0131",width:150},{field:"phoneNumber",headerName:"Cep",width:150},{field:"email",headerName:"Email",width:300},{field:"carNumner",headerName:"Arac No",width:150},{field:"createdAt",headerName:"Kat\u0131lma Tarihi ",width:200},{field:"D\xfczenle",width:175,renderCell:function(t){return Object(f.jsx)(y,{style:"edit",btnText:"D\xfczenle",onClick:function(){return e(t)}})}},{field:"Iptal",width:175,renderCell:function(e){return Object(f.jsx)(y,{style:"delete",btnText:"Iptal",onClick:function(){return t(e)}})}}]}(P,A);return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(m.a,{children:[Object(f.jsx)(x,{rows:l,columns:M}),Object(f.jsx)(Y,{open:r,onClose:I,style:"updateReservation",children:Object(f.jsx)(hr,{initValues:b,handleClose:I,rows:l,setRows:d})}),Object(f.jsx)(Y,{open:N,onClose:D,style:"updateReservation",children:Object(f.jsx)(br,{initValues:b,handleDeleteDialogClose:D,rows:l,setRows:d})})]})})},fr=Object(l.a)((function(e){return{root:{minHeight:"100vh"},title:{textTransform:"uppercase",fontWeight:800,fontSize:24,color:"primary",marginBottom:"3em",textAlign:"center"},itemContaienr:{backgroundColor:"#D0D0D0",padding:e.spacing(4)}}})),xr=function(){var e=fr(),t=e.root,r=e.title,n=e.itemContaienr,a=K().updateSnackBarMessage,i=X().language;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(re.a,{container:!0,component:Ce.a,direction:"column",className:t,justifyContent:"center",alignItems:"center",children:Object(f.jsxs)(re.a,{item:!0,className:n,children:[Object(f.jsx)(ae.a,{className:r,children:"eng"===i?"Add Driver":"s\xfcr\xfcc\xfc Ekle"}),Object(f.jsx)(ur,{handleSubmit:function(e){ut(e).then((function(e){e.error?a(e.error):e.success?a("Driver has been added successfully!"):a("An unexpected error occurred. Please try again !")}))},initValues:{name:"",phoneNumber:0,email:"",carNumber:"",createdAt:""}})]})})})},gr=Object(l.a)((function(e){return{root:{minHeight:"100vh",backgroundColor:"#D3D3D3"},card:{maxWidth:345,maxHeight:"35vh",borderRadius:25,border:"2px solid",minWidth:325,position:"relative",marginTop:"2em",marginBottom:"2em"},itemContaienr:{position:"relative"}}})),Or=r(456),yr=r(457),vr=r(458),wr={owedUsersNumber:0,unconfirmedReservationsNumber:0},Nr={owedUsers:[],unconfirmedReservations:[]},Cr=function(){var e=gr(),t=e.root,r=e.card,a=e.itemContaienr,i=X().language,c=Object(n.useState)(wr),l=Object(s.a)(c,2),d=l[0],m=l[1],h=Object(n.useState)(Nr),p=Object(s.a)(h,2),b=p[0],j=p[1],g=K().updateSnackBarMessage,O=Object(o.f)(),y="eng"===i?[{field:"property",headerName:"Property",width:150},{field:"date",headerName:"Date and Time",width:150},{field:"flightNo",headerName:"Flight No",width:150},{field:"from",headerName:"From",width:150},{field:"to",headerName:"To",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/property",width:150}]:[{field:"property",headerName:"Emlak",width:150},{field:"date",headerName:"Traih va Saat",width:150},{field:"flightNo",headerName:"U\xe7u\u015f No ",width:150},{field:"from",headerName:"Nerden",width:150},{field:"to",headerName:"Nereye",width:150},{field:"pax",headerName:"Pax",width:120},{field:"driverNote",headerName:"Note/Emlak",width:150}],v="eng"===i?[{field:"propertyName",headerName:"Property",width:150},{field:"firstName",headerName:"First Name",width:150},{field:"lastName",headerName:"Last Name",width:150},{field:"email",headerName:"Email",width:150},{field:"debt",headerName:"Debt",width:150}]:[{field:"propertyName",headerName:"Emlak",width:150},{field:"firstName",headerName:"Adi",width:150},{field:"lastName",headerName:"Soyadi",width:150},{field:"email",headerName:"Email",width:150},{field:"debt",headerName:"Bor\xe7",width:150}];Object(n.useEffect)((function(){at().then((function(e){e.error?(console.log(e.error),g(e.error)):e.success?m(e.success):g("An unexpected error occurred. Please try again !")}))}),[]),Object(n.useEffect)((function(){it().then((function(e){e.error?(console.log(e.error),g(e.error)):e.success?(console.log(e.success),e.success.unconfirmedReservations.map((function(e,t){e.id=t+1,e.property=e.client.propertyName;var r=new Date(e.selectedDate);e.date=Object(u.a)(r,"dd-MM-yyyy kk:hh")})),e.success.owedUsers.map((function(e,t){e.id=t+1})),j(e.success)):g("An unexpected error occurred. Please try again !")}))}),[d]);var w=[{cardImg:"https://airportshuttle0.s3.amazonaws.com/airport-shuttle02.jpeg",title:"eng"===i?"Unconfirmed Reservations":"Onaylanmam\u0131\u015f Rezer...",content:"eng"===i?"Reservations waiting for confirmation!":"Onay bekleyen rezervasyonlar!",number:d.unconfirmedReservationsNumber,btnText:"Show",handleClick:function(){O.push("/unconfirmed-reservations")}},{cardImg:"https://airportshuttle0.s3.amazonaws.com/money.jpeg",title:"eng"===i?"Debt":"Bor\xe7",content:"eng"===i?"clients owe you money!":"M\xfc\u015fterilerin sana borcu var!",number:d.owedUsersNumber,btnText:"Show",handleClick:function(){O.push("/debt")}}];return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(re.a,{container:!0,direction:"column",className:t,children:[Object(f.jsx)(re.a,{item:!0,container:!0,spacing:3,justifyContent:"space-evenly",className:a,children:w.map((function(e){var t=e.cardImg,n=e.title,a=e.content,i=e.number;e.btnText,e.handleClick;return Object(f.jsxs)(Or.a,{className:r,children:[Object(f.jsx)(yr.a,{component:"img",height:"140",image:t,alt:"Debt"}),Object(f.jsxs)(vr.a,{style:{backgroundColor:"#2F4F4F"},children:[Object(f.jsx)(ae.a,{gutterBottom:!0,variant:"h5",component:"div",children:n}),Object(f.jsx)(ae.a,{variant:"body2",children:"".concat(i," ").concat(a)})]})]})}))}),Object(f.jsxs)(re.a,{item:!0,container:!0,justifyContent:"flex-end",alignItems:"center",children:[Object(f.jsx)(x,{rows:b.unconfirmedReservations,columns:y}),Object(f.jsx)(x,{rows:b.owedUsers,columns:v})]})]})})},Tr=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{style:{marginTop:"5em"},children:"ClientHome component"})})};var kr=function(){return Object(f.jsx)(c.a,{children:Object(f.jsx)(_,{children:Object(f.jsx)(ve,{children:Object(f.jsxs)(Q,{children:[Object(f.jsx)(or,{}),Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{exact:!0,path:"/login",component:Ht}),Object(f.jsx)(o.a,{exact:!0,path:"/agency-home",component:Cr}),Object(f.jsx)(o.a,{exact:!0,path:"/client-home",component:Tr}),Object(f.jsx)(o.a,{exact:!0,path:"/reservation",component:se}),Object(f.jsx)(o.a,{exact:!0,path:"/payment",component:Ne}),Object(f.jsx)(o.a,{exact:!0,path:"/new-reservation",component:Ue}),Object(f.jsx)(o.a,{exact:!0,path:"/add-client",component:Ge}),Object(f.jsx)(o.a,{exact:!0,path:"/agency-reservation",component:gt}),Object(f.jsx)(o.a,{exact:!0,path:"/agency-payment",component:Ft}),Object(f.jsx)(o.a,{exact:!0,path:"/drivers",component:jr}),Object(f.jsx)(o.a,{exact:!0,path:"/add-driver",component:xr}),Object(f.jsx)(o.a,{exact:!0,path:"/clients",component:et})]})]})})})})};i.a.render(Object(f.jsx)(kr,{}),document.getElementById("root"))}},[[397,1,2]]]);
//# sourceMappingURL=main.51cb0b69.chunk.js.map