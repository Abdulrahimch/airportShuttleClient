{"ast":null,"code":"// const login = async (userName: string, password: string) => {\n//     const fetchOptions: FetchOptions = {\n//         method: 'Post',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({ userName, password }),\n//         credentials: 'include',\n//     };\n//     return await axios.post('/login', fetchOptions).then((data) => {console.log('data is', data)});\n// };\n// export default login;\nconst login = async (email, password) => {\n  const fetchOptions = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    }),\n    credentials: 'include'\n  };\n  return await fetch(`/auth/login`, fetchOptions).then(res => res.json()).catch(() => ({\n    error: {\n      message: 'Unable to connect to server. Please try again'\n    }\n  }));\n};\n\nexport default login;","map":{"version":3,"sources":["/home/cisco/airport-shuttle-v2/airportShuttleV2/client/src/helpers/APICalls/login.ts"],"names":["login","email","password","fetchOptions","method","headers","body","JSON","stringify","credentials","fetch","then","res","json","catch","error","message"],"mappings":"AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA,MAAMA,KAAK,GAAG,OAAOC,KAAP,EAAsBC,QAAtB,KAAiE;AAC3E,QAAMC,YAA0B,GAAG;AACjCC,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFwB;AAGjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAf,CAH2B;AAIjCO,IAAAA,WAAW,EAAE;AAJoB,GAAnC;AAMA,SAAO,MAAMC,KAAK,CAAE,aAAF,EAAgBP,YAAhB,CAAL,CACVQ,IADU,CACJC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADJ,EAEVC,KAFU,CAEJ,OAAO;AACZC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AADK,GAAP,CAFI,CAAb;AAKD,CAZH;;AAcE,eAAehB,KAAf","sourcesContent":["import axios from 'axios';\nimport { AuthApiData } from '../../interface/AuthApiData';\nimport { FetchOptions } from '../../interface/FetchOptions';\n\n// const login = async (userName: string, password: string) => {\n//     const fetchOptions: FetchOptions = {\n//         method: 'Post',\n//         headers: { 'Content-Type': 'application/json' },\n//         body: JSON.stringify({ userName, password }),\n//         credentials: 'include',\n//     };\n\n//     return await axios.post('/login', fetchOptions).then((data) => {console.log('data is', data)});\n// };\n\n// export default login;\n\nconst login = async (email: string, password: string): Promise<AuthApiData> => {\n    const fetchOptions: FetchOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, password }),\n      credentials: 'include',\n    };\n    return await fetch(`/auth/login`, fetchOptions)\n      .then((res) => res.json())\n      .catch(() => ({\n        error: { message: 'Unable to connect to server. Please try again' },\n      }));\n  };\n  \n  export default login;\n  "]},"metadata":{},"sourceType":"module"}