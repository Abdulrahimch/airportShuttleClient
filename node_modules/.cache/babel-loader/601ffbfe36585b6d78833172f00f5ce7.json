{"ast":null,"code":"import{Box,Grid,Typography,Paper}from'@material-ui/core';import useStyles from'./useStyles';import LoginForm from'./LoginForm/LoginForm';import login from'../../helpers/APICalls/login';import{useAuth}from'../../context/useAuthContext';import{useSnackBar}from'../../context/useSnackbarContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var classes=useStyles();var _useAuth=useAuth(),updateLoginContext=_useAuth.updateLoginContext;var _useSnackBar=useSnackBar(),updateSnackBarMessage=_useSnackBar.updateSnackBarMessage;var handleSubmit=function handleSubmit(_ref,_ref2){var username=_ref.username,password=_ref.password;var setSubmitting=_ref2.setSubmitting;login(username,password).then(function(data){if(data.error){setSubmitting(false);updateSnackBarMessage(data.error.message);}else if(data.success){updateLoginContext(data.success);}else{setSubmitting(false);updateSnackBarMessage('An unexpected error occurred. Please try again !');}});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Grid,{container:true,component:\"main\",className:classes.root,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sm:6,md:6,lg:8,children:/*#__PURE__*/_jsx(\"img\",{src:\"https://airportshuttle0.s3.amazonaws.com/airportShuttle03.jpg\",alt:\"sign in\",className:classes.signinImage})}),/*#__PURE__*/_jsx(Grid,{item:true,component:Paper,xs:6,sm:6,md:6,lg:4,children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",flexDirection:\"column\",minHeight:\"100vh\",children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Typography,{variant:\"h2\",className:classes.welcome,children:\"Sign in\"})}),/*#__PURE__*/_jsx(LoginForm,{handleSubmit:handleSubmit})]})})]})});}export default Login;","map":{"version":3,"sources":["/home/cisco/airportShuttleDeploy/airportShuttleV2/client/src/pages/Login/Login.tsx"],"names":["Box","Grid","Typography","Paper","useStyles","LoginForm","login","useAuth","useSnackBar","Login","classes","updateLoginContext","updateSnackBarMessage","handleSubmit","username","password","setSubmitting","then","data","error","message","success","root","signinImage","welcome"],"mappings":"AAAA,OAASA,GAAT,CAAcC,IAAd,CAAoBC,UAApB,CAAgCC,KAAhC,KAA6C,mBAA7C,CAEA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,OAASC,OAAT,KAAwB,8BAAxB,CACA,OAASC,WAAT,KAA4B,kCAA5B,C,6IAGA,QAASC,CAAAA,KAAT,EAA8B,CAC1B,GAAMC,CAAAA,OAAO,CAAGN,SAAS,EAAzB,CACA,aAA+BG,OAAO,EAAtC,CAAQI,kBAAR,UAAQA,kBAAR,CACA,iBAAkCH,WAAW,EAA7C,CAAQI,qBAAR,cAAQA,qBAAR,CAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,YAGZ,IAFHC,CAAAA,QAEG,MAFHA,QAEG,CAFOC,QAEP,MAFOA,QAEP,IADHC,CAAAA,aACG,OADHA,aACG,CACDV,KAAK,CAACQ,QAAD,CAAWC,QAAX,CAAL,CAA0BE,IAA1B,CAA+B,SAACC,IAAD,CAAU,CACrC,GAAIA,IAAI,CAACC,KAAT,CAAgB,CACZH,aAAa,CAAC,KAAD,CAAb,CACAJ,qBAAqB,CAACM,IAAI,CAACC,KAAL,CAAWC,OAAZ,CAArB,CACH,CAHD,IAGO,IAAIF,IAAI,CAACG,OAAT,CAAiB,CACpBV,kBAAkB,CAACO,IAAI,CAACG,OAAN,CAAlB,CACH,CAFM,IAEA,CACHL,aAAa,CAAC,KAAD,CAAb,CACAJ,qBAAqB,CAAC,kDAAD,CAArB,CACH,CACJ,CAVD,EAWH,CAfL,CAiBA,mBACI,sCACI,MAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,SAAS,CAAC,MAA1B,CAAiC,SAAS,CAAEF,OAAO,CAACY,IAApD,CAA0D,OAAO,CAAE,CAAnE,wBACI,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,CAAtB,CAAyB,EAAE,CAAE,CAA7B,CAAgC,EAAE,CAAE,CAApC,uBACI,YAAK,GAAG,CAAC,+DAAT,CAAyE,GAAG,CAAC,SAA7E,CAAuF,SAAS,CAAEZ,OAAO,CAACa,WAA1G,EADJ,EADJ,cAII,KAAC,IAAD,EAAM,IAAI,KAAV,CAAW,SAAS,CAAEpB,KAAtB,CAA6B,EAAE,CAAE,CAAjC,CAAoC,EAAE,CAAE,CAAxC,CAA2C,EAAE,CAAE,CAA/C,CAAkD,EAAE,CAAE,CAAtD,uBACI,MAAC,GAAD,EACI,OAAO,CAAC,MADZ,CAEI,aAAa,CAAC,QAFlB,CAGI,SAAS,CAAC,OAHd,wBAKI,KAAC,GAAD,wBACI,KAAC,UAAD,EAAY,OAAO,CAAC,IAApB,CAAyB,SAAS,CAAEO,OAAO,CAACc,OAA5C,qBADJ,EALJ,cAQI,KAAC,SAAD,EAAW,YAAY,CAAEX,YAAzB,EARJ,GADJ,EAJJ,GADJ,EADJ,CAqBD,CAEH,cAAgBJ,CAAAA,KAAhB","sourcesContent":["import { Box, Grid, Typography, Paper } from '@material-ui/core';\nimport { FormikHelpers } from 'formik';\nimport useStyles from './useStyles';\nimport LoginForm from './LoginForm/LoginForm';\nimport login from '../../helpers/APICalls/login';\nimport { useAuth } from '../../context/useAuthContext';\nimport { useSnackBar } from '../../context/useSnackbarContext';\n\n\nfunction Login(): JSX.Element {\n    const classes = useStyles();\n    const { updateLoginContext } = useAuth();\n    const { updateSnackBarMessage } = useSnackBar();\n\n\n    const handleSubmit = (\n        { username, password }: { username: string; password: string }, \n        { setSubmitting }: FormikHelpers<{ username: string; password: string }>,\n        ) => {\n            login(username, password).then((data) => {\n                if (data.error) {\n                    setSubmitting(false);\n                    updateSnackBarMessage(data.error.message);\n                } else if (data.success){\n                    updateLoginContext(data.success);\n                } else {\n                    setSubmitting(false);\n                    updateSnackBarMessage('An unexpected error occurred. Please try again !');\n                }\n            });\n        }\n\n    return (\n        <>\n            <Grid container component=\"main\" className={classes.root} spacing={2}>\n                <Grid item xs={6} sm={6} md={6} lg={8} >\n                    <img src=\"https://airportshuttle0.s3.amazonaws.com/airportShuttle03.jpg\" alt='sign in' className={classes.signinImage} />\n                </Grid>\n                <Grid item component={Paper} xs={6} sm={6} md={6} lg={4}>\n                    <Box\n                        display=\"flex\"\n                        flexDirection=\"column\"\n                        minHeight=\"100vh\"\n                    >\n                        <Box>\n                            <Typography variant=\"h2\" className={classes.welcome}>Sign in</Typography>\n                        </Box>\n                        <LoginForm handleSubmit={handleSubmit} />\n                    </Box>\n                </Grid>\n            </Grid>\n        </>\n    )\n  }\n\nexport default  Login;"]},"metadata":{},"sourceType":"module"}